<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"
    />
    <link rel="shortcut icon" type="image/x-icon" href="/logo.png" />
    <link rel="stylesheet" href="/blog-other/umi.css" />
    <script>
      window.routerBase = "/blog-other";
    </script>
    <script>
      //! umi version: 3.5.41
    </script>
    <script>
      !(function () {
        var e =
            navigator.cookieEnabled && void 0 !== window.localStorage
              ? localStorage.getItem("dumi:prefers-color")
              : "auto",
          o = window.matchMedia("(prefers-color-scheme: dark)").matches,
          t = ["light", "dark", "auto"];
        document.documentElement.setAttribute(
          "data-prefers-color",
          e === t[2] ? (o ? t[1] : t[0]) : t.indexOf(e) > -1 ? e : t[0]
        );
      })();
    </script>
    <title>07 | 系统设计能力考察：系统设计内功到底怎么考？ - 大师兄</title>
  </head>
  <body>
    <div id="root"><div class="__dumi-default-layout" data-route="/技术面试官识人手册/03.面试进行实践篇/03" data-show-sidemenu="true" data-show-slugs="true" data-site-mode="true" data-gapless="false"><div class="__dumi-default-navbar" data-mode="site"><button class="__dumi-default-navbar-toggle"></button><a class="__dumi-default-navbar-logo" style="background-image:url(&#x27;/logo.png&#x27;)" href="/blog-other/">大师兄</a><nav><div class="__dumi-default-search"><input type="search" class="__dumi-default-search-input" value=""/><ul></ul></div><span>前端开发<ul><li><a href="/blog-other/说透低代码">说透低代码</a></li><li><a href="/blog-other/反爬虫兵法演绎20讲">反爬虫兵法演绎20讲</a></li></ul></span><span>产品与用户体验<ul><li><a href="/blog-other/大厂广告产品心法">大厂广告产品心法</a></li></ul></span><span>面试<ul><li><a aria-current="page" class="active" href="/blog-other/技术面试官识人手册">技术面试官识人手册</a></li><li><a href="/blog-other/面试现场">面试现场</a></li></ul></span><span>杂谈<ul><li><a href="/blog-other/乔新亮的cto成长复盘">乔新亮的cto成长复盘</a></li><li><a href="/blog-other/互联网人的英语私教课">互联网人的英语私教课</a></li><li><a href="/blog-other/从0开始学游戏开发">从0开始学游戏开发</a></li><li><a href="/blog-other/全栈工程师修炼指南">全栈工程师修炼指南</a></li><li><a href="/blog-other/手机摄影">手机摄影</a></li><li><a href="/blog-other/物联网开发实战">物联网开发实战</a></li><li><a href="/blog-other/白话法律42讲">白话法律42讲</a></li><li><a href="/blog-other/说透5g">说透5g</a></li><li><a href="/blog-other/超级访谈对话张雪峰">超级访谈对话张雪峰</a></li><li><a href="/blog-other/零基础实战机器学习">零基础实战机器学习</a></li></ul></span><div class="__dumi-default-navbar-tool"><div class="__dumi-default-dark"><div class="__dumi-default-dark-switch "></div></div></div></nav></div><div class="__dumi-default-menu" data-mode="site"><div class="__dumi-default-menu-inner"><div class="__dumi-default-menu-header"><a class="__dumi-default-menu-logo" style="background-image:url(&#x27;/logo.png&#x27;)" href="/blog-other/"></a><h1>大师兄</h1><p></p></div><div class="__dumi-default-menu-mobile-area"><ul class="__dumi-default-menu-nav-list"><li>前端开发<ul><li><a href="/blog-other/说透低代码">说透低代码</a></li><li><a href="/blog-other/反爬虫兵法演绎20讲">反爬虫兵法演绎20讲</a></li></ul></li><li>产品与用户体验<ul><li><a href="/blog-other/大厂广告产品心法">大厂广告产品心法</a></li></ul></li><li>面试<ul><li><a aria-current="page" class="active" href="/blog-other/技术面试官识人手册">技术面试官识人手册</a></li><li><a href="/blog-other/面试现场">面试现场</a></li></ul></li><li>杂谈<ul><li><a href="/blog-other/乔新亮的cto成长复盘">乔新亮的cto成长复盘</a></li><li><a href="/blog-other/互联网人的英语私教课">互联网人的英语私教课</a></li><li><a href="/blog-other/从0开始学游戏开发">从0开始学游戏开发</a></li><li><a href="/blog-other/全栈工程师修炼指南">全栈工程师修炼指南</a></li><li><a href="/blog-other/手机摄影">手机摄影</a></li><li><a href="/blog-other/物联网开发实战">物联网开发实战</a></li><li><a href="/blog-other/白话法律42讲">白话法律42讲</a></li><li><a href="/blog-other/说透5g">说透5g</a></li><li><a href="/blog-other/超级访谈对话张雪峰">超级访谈对话张雪峰</a></li><li><a href="/blog-other/零基础实战机器学习">零基础实战机器学习</a></li></ul></li></ul><div class="__dumi-default-dark"><div class="__dumi-default-dark-switch "><button title="Dark theme" class="__dumi-default-dark-moon "><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3854" width="22" height="22"><path d="M991.816611 674.909091a69.166545 69.166545 0 0 0-51.665455-23.272727 70.795636 70.795636 0 0 0-27.438545 5.585454A415.674182 415.674182 0 0 1 754.993338 698.181818c-209.594182 0-393.472-184.785455-393.472-395.636363 0-52.363636 38.539636-119.621818 69.515637-173.614546 4.887273-8.610909 9.634909-16.756364 14.103272-24.901818A69.818182 69.818182 0 0 0 384.631156 0a70.842182 70.842182 0 0 0-27.438545 5.585455C161.678429 90.298182 14.362065 307.898182 14.362065 512c0 282.298182 238.824727 512 532.38691 512a522.286545 522.286545 0 0 0 453.957818-268.334545A69.818182 69.818182 0 0 0 991.816611 674.909091zM546.679156 954.181818c-248.785455 0-462.941091-192-462.941091-442.181818 0-186.647273 140.637091-372.829091 300.939637-442.181818-36.817455 65.629091-92.578909 151.970909-92.578909 232.727273 0 250.181818 214.109091 465.454545 462.917818 465.454545a488.331636 488.331636 0 0 0 185.181091-46.545455 453.003636 453.003636 0 0 1-393.565091 232.727273z m103.656728-669.323636l-14.266182 83.781818a34.909091 34.909091 0 0 0 50.362182 36.770909l74.775272-39.563636 74.752 39.563636a36.142545 36.142545 0 0 0 16.174546 3.956364 34.909091 34.909091 0 0 0 34.210909-40.727273l-14.289455-83.781818 60.509091-59.345455a35.025455 35.025455 0 0 0-19.223272-59.578182l-83.61891-12.101818-37.376-76.101818a34.56 34.56 0 0 0-62.254545 0l-37.376 76.101818-83.618909 12.101818a34.909091 34.909091 0 0 0-19.246546 59.578182z m70.423272-64.698182a34.280727 34.280727 0 0 0 26.135273-19.083636l14.312727-29.090909 14.336 29.090909a34.257455 34.257455 0 0 0 26.135273 19.083636l32.046546 4.887273-23.272728 22.574545a35.234909 35.234909 0 0 0-10.007272 30.952727l5.46909 32.116364-28.625454-15.127273a34.490182 34.490182 0 0 0-32.302546 0l-28.695272 15.127273 5.469091-32.116364a35.141818 35.141818 0 0 0-9.984-30.952727l-23.272728-22.574545z" p-id="3855"></path></svg></button><button title="Light theme" class="__dumi-default-dark-sun "><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4026" width="22" height="22"><path d="M915.2 476.16h-43.968c-24.704 0-44.736 16-44.736 35.84s20.032 35.904 44.736 35.904H915.2c24.768 0 44.8-16.064 44.8-35.904s-20.032-35.84-44.8-35.84zM512 265.6c-136.704 0-246.464 109.824-246.464 246.4 0 136.704 109.76 246.464 246.464 246.464S758.4 648.704 758.4 512c0-136.576-109.696-246.4-246.4-246.4z m0 425.6c-99.008 0-179.2-80.128-179.2-179.2 0-98.944 80.192-179.2 179.2-179.2S691.2 413.056 691.2 512c0 99.072-80.192 179.2-179.2 179.2zM197.44 512c0-19.84-19.136-35.84-43.904-35.84H108.8c-24.768 0-44.8 16-44.8 35.84s20.032 35.904 44.8 35.904h44.736c24.768 0 43.904-16.064 43.904-35.904zM512 198.464c19.776 0 35.84-20.032 35.84-44.8v-44.8C547.84 84.032 531.84 64 512 64s-35.904 20.032-35.904 44.8v44.8c0 24.768 16.128 44.864 35.904 44.864z m0 627.136c-19.776 0-35.904 20.032-35.904 44.8v44.736C476.096 940.032 492.16 960 512 960s35.84-20.032 35.84-44.8v-44.736c0-24.768-16.064-44.864-35.84-44.864z m329.92-592.832c17.472-17.536 20.288-43.072 6.4-57.024-14.016-14.016-39.488-11.2-57.024 6.336-4.736 4.864-26.496 26.496-31.36 31.36-17.472 17.472-20.288 43.008-6.336 57.024 13.952 14.016 39.488 11.2 57.024-6.336 4.8-4.864 26.496-26.56 31.296-31.36zM213.376 759.936c-4.864 4.8-26.56 26.624-31.36 31.36-17.472 17.472-20.288 42.944-6.4 56.96 14.016 13.952 39.552 11.2 57.024-6.336 4.8-4.736 26.56-26.496 31.36-31.36 17.472-17.472 20.288-43.008 6.336-56.96-14.016-13.952-39.552-11.072-56.96 6.336z m19.328-577.92c-17.536-17.536-43.008-20.352-57.024-6.336-14.08 14.016-11.136 39.488 6.336 57.024 4.864 4.864 26.496 26.56 31.36 31.424 17.536 17.408 43.008 20.288 56.96 6.336 14.016-14.016 11.264-39.488-6.336-57.024-4.736-4.864-26.496-26.56-31.296-31.424z m527.168 628.608c4.864 4.864 26.624 26.624 31.36 31.424 17.536 17.408 43.072 20.224 57.088 6.336 13.952-14.016 11.072-39.552-6.4-57.024-4.864-4.8-26.56-26.496-31.36-31.36-17.472-17.408-43.072-20.288-57.024-6.336-13.952 14.016-11.008 39.488 6.336 56.96z" p-id="4027"></path></svg></button><button title="Default to system" class="__dumi-default-dark-auto "><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="11002" width="22" height="22"><path d="M127.658667 492.885333c0-51.882667 10.24-101.717333 30.378666-149.162666s47.786667-88.064 81.92-122.538667 75.093333-61.781333 122.538667-81.92 96.938667-30.378667 149.162667-30.378667 101.717333 10.24 149.162666 30.378667 88.405333 47.786667 122.88 81.92 61.781333 75.093333 81.92 122.538667 30.378667 96.938667 30.378667 149.162666-10.24 101.717333-30.378667 149.162667-47.786667 88.405333-81.92 122.88-75.093333 61.781333-122.88 81.92-97.28 30.378667-149.162666 30.378667-101.717333-10.24-149.162667-30.378667-88.064-47.786667-122.538667-81.92-61.781333-75.093333-81.92-122.88-30.378667-96.938667-30.378666-149.162667z m329.045333 0c0 130.048 13.994667 244.394667 41.984 343.381334h12.970667c46.762667 0 91.136-9.216 133.461333-27.306667s78.848-42.666667 109.568-73.386667 54.954667-67.242667 73.386667-109.568 27.306667-86.698667 27.306666-133.461333c0-46.421333-9.216-90.794667-27.306666-133.12s-42.666667-78.848-73.386667-109.568-67.242667-54.954667-109.568-73.386667-86.698667-27.306667-133.461333-27.306666h-11.605334c-28.672 123.562667-43.349333 237.909333-43.349333 343.722666z" p-id="11003"></path></svg></button></div></div></div><ul class="__dumi-default-menu-list"><li><a href="/blog-other/技术面试官识人手册">技术面试官识人手册</a></li><li><a href="/blog-other/技术面试官识人手册/01.开篇词">01.开篇词</a><ul><li><a href="/blog-other/技术面试官识人手册/01.开篇词/01"><span>开篇词 | 世事洞明皆学问，人情练达即文章：小面试，大道理</span></a></li></ul></li><li><a href="/blog-other/技术面试官识人手册/02.面试准备计划篇">02.面试准备计划篇</a><ul><li><a href="/blog-other/技术面试官识人手册/02.面试准备计划篇/01"><span>01 | 评估体系：公司和团队到底需要怎样的技术人才？</span></a></li><li><a href="/blog-other/技术面试官识人手册/02.面试准备计划篇/02"><span>02 | 制定计划：好的计划是成功的一半</span></a></li><li><a href="/blog-other/技术面试官识人手册/02.面试准备计划篇/03"><span>03 | 问题设计（上）：三大原则理清面试考察方向</span></a></li><li><a href="/blog-other/技术面试官识人手册/02.面试准备计划篇/04"><span>04 | 问题设计（下）：五个技巧助攻技术问题设计</span></a></li><li><a href="/blog-other/技术面试官识人手册/02.面试准备计划篇/05"><span>答疑课堂01：面试计划篇热点问题解答</span></a></li></ul></li><li><a aria-current="page" class="active" href="/blog-other/技术面试官识人手册/03.面试进行实践篇">03.面试进行实践篇</a><ul><li><a href="/blog-other/技术面试官识人手册/03.面试进行实践篇/01"><span>05 | 流程把控：控好流程，让面试进程高效有温度</span></a></li><li><a href="/blog-other/技术面试官识人手册/03.面试进行实践篇/02"><span>06 | 算法和数据结构考察：怎样有层次地驾驭算法考察？</span></a></li><li><a aria-current="page" class="active" href="/blog-other/技术面试官识人手册/03.面试进行实践篇/03"><span>07 | 系统设计能力考察：系统设计内功到底怎么考？</span></a></li><li><a href="/blog-other/技术面试官识人手册/03.面试进行实践篇/04"><span>08 | 其它技能考察：见微知著，不可忽略的其它考察点</span></a></li><li><a href="/blog-other/技术面试官识人手册/03.面试进行实践篇/05"><span>答疑课堂02：面试实践篇热点问题解答</span></a></li></ul></li><li><a href="/blog-other/技术面试官识人手册/04.面试反馈决策篇">04.面试反馈决策篇</a><ul><li><a href="/blog-other/技术面试官识人手册/04.面试反馈决策篇/01"><span>09 | 决策会准备：怎样全面收集事实，有效提炼数据？</span></a></li><li><a href="/blog-other/技术面试官识人手册/04.面试反馈决策篇/02"><span>10 | 决策会开展（上）：怎样引导争辩，达成共识？</span></a></li><li><a href="/blog-other/技术面试官识人手册/04.面试反馈决策篇/03"><span>11 | 决策会开展（下）：怎样确保评估全面且有深度？</span></a></li><li><a href="/blog-other/技术面试官识人手册/04.面试反馈决策篇/04"><span>答疑课堂03：面试决策篇热点问题解答</span></a></li></ul></li><li><a href="/blog-other/技术面试官识人手册/05.场景再现">05.场景再现</a><ul><li><a href="/blog-other/技术面试官识人手册/05.场景再现/01"><span>12 | 线上面试：隔屏对话，交流依然畅通</span></a></li><li><a href="/blog-other/技术面试官识人手册/05.场景再现/02"><span>13 | 简历识人：洞悉简历背后信息，动态调节面试策略</span></a></li></ul></li><li><a href="/blog-other/技术面试官识人手册/06.结束语">06.结束语</a><ul><li><a href="/blog-other/技术面试官识人手册/06.结束语/01"><span>结束语 | 操千曲而后晓声，观千剑而后识器</span></a></li><li><a href="/blog-other/技术面试官识人手册/06.结束语/02"><span>结课测试｜这些面试问题，你都掌握了么？</span></a></li></ul></li><li><a href="/blog-other/技术面试官识人手册/summary">技术面试官识人手册</a></li></ul></div></div><ul role="slug-list" class="__dumi-default-layout-toc"><li title="糟糕的例子" data-depth="2"><a href="/blog-other/技术面试官识人手册/03.面试进行实践篇/03#糟糕的例子"><span>糟糕的例子</span></a></li><li title="排斥不一样的思路" data-depth="3"><a href="/blog-other/技术面试官识人手册/03.面试进行实践篇/03#排斥不一样的思路"><span>排斥不一样的思路</span></a></li><li title="无意义的深挖" data-depth="3"><a href="/blog-other/技术面试官识人手册/03.面试进行实践篇/03#无意义的深挖"><span>无意义的深挖</span></a></li><li title="考察技巧" data-depth="2"><a href="/blog-other/技术面试官识人手册/03.面试进行实践篇/03#考察技巧"><span>考察技巧</span></a></li><li title="做过的系统" data-depth="3"><a href="/blog-other/技术面试官识人手册/03.面试进行实践篇/03#做过的系统"><span>做过的系统</span></a></li><li title="全新的问题" data-depth="3"><a href="/blog-other/技术面试官识人手册/03.面试进行实践篇/03#全新的问题"><span>全新的问题</span></a></li><li title="总结与思考" data-depth="2"><a href="/blog-other/技术面试官识人手册/03.面试进行实践篇/03#总结与思考"><span>总结与思考</span></a></li></ul><div class="__dumi-default-layout-content"><div class="markdown"><h1 id="07--系统设计能力考察系统设计内功到底怎么考"><a aria-hidden="true" tabindex="-1" href="/blog-other/技术面试官识人手册/03.面试进行实践篇/03#07--系统设计能力考察系统设计内功到底怎么考"><span class="icon icon-link"></span></a>07 | 系统设计能力考察：系统设计内功到底怎么考？</h1><p>你好，我是四火。</p><p>在上一讲，我们谈到对于数据结构和算法部分考察的把控，这一讲，我们来聊聊系统设计。</p><p>我们经常说软件工程师要注意积累工作经验，那么，年复一年的工作中，我们到底积累了哪些技术方面的经验？</p><p>我想，其中很重要的一个就是对于系统的理解。对于刚毕业和工作不久的工程师来说，我们不应苛求他们对系统具备相当深度的理解；另一方面，即便工作年数相同，不同候选人对于系统的认识深度也有着非常大的差距。</p><p>和能够明确判断出正误的算法类问题不同，系统设计我们往往没法给出丁是丁卯是卯的正误判断，因而面试中讨论的更多是可行性，以及对于不同实现方案的利弊权衡。这也是符合现实逻辑的，有一些相似的系统，它们的实现技术截然不同，有着不同的优势和短板，但是最终都解决了最核心的问题。</p><h2 id="糟糕的例子"><a aria-hidden="true" tabindex="-1" href="/blog-other/技术面试官识人手册/03.面试进行实践篇/03#糟糕的例子"><span class="icon icon-link"></span></a>糟糕的例子</h2><p>好，我们先来说几个典型的反面例子，和算法、数据结构的面试不同，系统设计的面试往往能遵循的简单套路更少，因而也能见到更多的“踩坑”实践。</p><h3 id="排斥不一样的思路"><a aria-hidden="true" tabindex="-1" href="/blog-other/技术面试官识人手册/03.面试进行实践篇/03#排斥不一样的思路"><span class="icon icon-link"></span></a>排斥不一样的思路</h3><p>最典型的例子就是面试官缺乏包容心。就像“看自己的代码越看越开心，看别人的代码越看越糟心”一样，在讨论一些经典系统设计思路的时候，如果对方的思路和常规思路明显不同，<strong>某些面试官可能会立即觉得对方的想法很“奇葩”。</strong></p><p><strong>这种想法其实是非常危险的，因为面试官在心里默默建立了一个护城墙，凡是不符合“标准”的解决思路，都会产生排斥心理。</strong></p><p>下面我举一个具体例子说明吧。有一次，某位面试官和候选人讨论，怎样设计一个篮球比赛的文字直播系统。</p><p>这个系统需要实时显示当前的比分等信息，那么一种思路是使用普通的查询，客户端主动发起，即定时地不断询问服务端最新的比分；还有一种思路是使用长连接，或者long poll这样的机制，使得服务端可以更实时地推送最新的比分更新。</p><p>很多系统都采用后者的思路来实现，这主要是基于实时性等方面的考虑，但是当时候选人考虑使用前一种方案。于是，面试官就直接中断了他的陈述，并直接解释为什么应该选择后者。</p><p>暂且不说所谓的正误，或者好与不好。这个技术实现选择的不一致，本来可以引出一个很好的面试实践，也就是对两种实现机制的利弊做讨论，但很遗憾，这种打断的做法直接终止了这样的讨论。</p><p>也就是说，我们完全可以跟着候选人的思路，用上一讲提到的“要求澄清”的办法让他自己来分析出实现的利弊来。</p><p>之后，如果候选人自己意识到，或者面试官使用“给出挑战”这样的办法，通过讨论这个方案的不足，来引出后一个方案，并放到一起进行优劣比较。</p><p>这样一来就可以有比较多的讨论与互动，我们也能得到更多的关于候选人对于系统理解的数据点。我想强调的是，最后采用哪一个方案其实并不重要，重要的是这个过程和我们得到的考察数据。</p><p>还有种类似情况是，<strong>有时候选人对于系统的设计思路是自底向上的，而面试官则是自上而下的。</strong></p><p>一般说来，自底向上去思考和设计系统的时候，确实存在“捡了芝麻丢了西瓜”的情况，但是如果面试中候选人这么做，我们不要去打断他，或者破坏他的这种思维模式，而要顺着他最熟悉的方法来讨论这个问题。</p><p>我们做系统设计面试的目的，是要考察候选人对于系统的理解，抓住一些有意义的数据点，而不是要尝试去把系统设计做到最好。</p><p>换言之，<strong>我们在面试中，一定要摒弃掉所谓的“最佳设计”或者“推荐方案”这样的想法，而是尽量追着候选人的思路跑！</strong></p><p>最后设计出的系统也许有这样那样的问题，但请记住面试官可以主导面试，却最好不要主导设计——完成的系统一定是一个候选人主导设计的系统，而不是面试官。</p><h3 id="无意义的深挖"><a aria-hidden="true" tabindex="-1" href="/blog-other/技术面试官识人手册/03.面试进行实践篇/03#无意义的深挖"><span class="icon icon-link"></span></a>无意义的深挖</h3><p>我们当然可以针对系统的某一个点进行深挖，但是如果候选人已经暴露出，他还不具备深挖该问题的基础知识，那么这个继续深挖很可能就是徒劳的，因为它除了给候选人带来沮丧以外，并不能得到太多更有价值的考察数据点。</p><p>举个例子，有一位面试官和候选人一起讨论“短URL系统”的设计问题。其中一个点是，在做短URL重定向的时候，返回码应该选择301还是302？</p><p>302是临时重定向，301是永久重定向，虽然301可能会减轻一定的访问压力，但通常来说，我们一般都选择302。这里的原因是，这些系统有一个很大的价值就是可以获取用户的访问数据，使用301可能会使得用户后续的访问直接跳过了这个系统，而去访问重定向后的系统，这样，这些有价值的URL访问数据就丢失了。</p><p>但是，当时候选人只对HTTP返回码略有了解，并不知道301和302的意义是什么，回答也明显有些搪塞，这种情况下，面试官还想继续往下挖，问到底应该选择301还是302。我觉得，这种深挖的意义就不大了。</p><h2 id="考察技巧"><a aria-hidden="true" tabindex="-1" href="/blog-other/技术面试官识人手册/03.面试进行实践篇/03#考察技巧"><span class="icon icon-link"></span></a>考察技巧</h2><p>好了，说完反面，下面来从正面讲讲系统设计考察的技巧。通常来说，系统设计的考察有两种主要形式：</p><ul><li>第一种，是让候选人讲他自己熟悉的、做过的系统，或者是引以为豪的项目；</li><li>第二种，是像前几讲中介绍的那样，给出一个实际问题，细化、分析，延伸成一个对于核心功能的系统设计问题，并加以讨论和解决。</li></ul><h3 id="做过的系统"><a aria-hidden="true" tabindex="-1" href="/blog-other/技术面试官识人手册/03.面试进行实践篇/03#做过的系统"><span class="icon icon-link"></span></a>做过的系统</h3><p>第一种面试方式非常常见。<strong>让候选人谈论做过的系统，把握一条原则，是候选人必须非常熟悉，最好是“最”熟悉的系统</strong>，这样我们才能了解到，候选人在过去的工作中，表现如何，有多深入的理解，又有多少思考。</p><p>我们不妨回想一下其它的技术方面的考察路径，如果是算法和数据结构，问“做过的算法”，好像很难这么问，而且这么问很可能也挖不到什么有价值的信息；如果是面向对象，问“做过的项目中，类和方法的设计”，听起来就觉得非常别扭，对不对？</p><p>确实如此，对于技术方面的考察点，唯有系统设计，问“做过的系统”，是一个非常好的途径。</p><p>话说回来，这样的面试方式，<strong>也存在着一定的局限性。</strong></p><p>**最大的问题，就是它只考察了候选人对于“已有系统”的理解，多为“经验之谈”，这是可以事先充分准备的。**它并不能很好反映出，对于一个陌生的新问题，候选人能否灵活地运用掌握的套路和方法来解决它。</p><p>事实上，在面试中，我也确实遇到个别候选人，虽然对于自己做过的项目说得头头是道，但给出一个新问题，却畏手畏脚，缺乏想法，表现不佳。</p><p>其次，必须指出的是，<strong>这种方式，对于面试官的素质也有着相当高的要求。</strong></p><p>因为相对而言，这种方式下，谈论怎样的系统，包含着怎样的问题，涉及到怎样的技术，都是候选人所主导的，如果面试官并不具备丰富的经验，又恰好遇到一个不属于自己熟悉领域的软件系统，有时候就没办法提出一针见血的问题，也没法采集到充分且有说服力的考察数据。</p><p>在某些大厂的面试培训中，<strong>培训老师甚至会明确建议，经验较少的面试官不要主导系统设计面试，而是主导相对容易操作的算法和数据结构的面试。</strong><br/><img src="/blog-other/static/httpsstatic001geekbangorgresourceimage4a114a2872f07c2da3e22e5873ae4cfa4411.4446ba14.jpg" alt=""/></p><p>对于发问，我们可以这样做：</p><blockquote><p>你能否介绍一下，过去有哪一个你最熟悉，或是最引以为傲的软件系统？</p></blockquote><p>我们也可以找到简历上最加以渲染的项目，而发问：</p><blockquote><p>你在简历上说，你主导了一个半年期的项目X，我对于这个系统很感兴趣，你能否介绍一下？</p></blockquote><p>其实这两个方式的目的是一致的。</p><p>对于考察的过程，我觉得要从宏观和微观层面去分别把握。</p><p><strong>在宏观上，观察候选人能否对他介绍的系统有着清晰的把握，有着整体的认识</strong>，而不是一下子就跳到某一个具体细节实现上去。比如说：</p><ul><li>系统解决了什么问题？</li><li>系统的架构是怎样的？</li><li>模块、组件之间的交互是怎样的？</li><li>系统存在哪些问题，有哪些瓶颈？</li><li>如果再给一次重新设计系统的机会，哪些地方可以改善？</li></ul><p><strong>在微观上，对于候选人自己熟悉的、做过的部分，我们要选择几个点向下挖，并且挖掘得足够深，到“具体是怎样实现的”这样的程度</strong>，毕竟在现实中，夸夸其谈的人不在少数。</p><p>“深入”的核心，就是要抓住两个词——“具体”和“细节”，下面我通过一个小例子来说明。</p><p>比方说，候选人说，他最近主导了一个三个月期的性能优化项目，那我们就可以抓住这一点进一步细化。请看下面这个对话片段：</p><p>候选人：我最近在项目中把门户网站的性能优化了一倍。</p><p>面试官：我很感兴趣，能具体说说是什么方面的性能优化了一倍吗？</p><p>候选人：是网页的加载时间优化了一倍，以前平均一个页面要将近3秒，现在1.5秒就可以打开了。</p><p>面试官：是什么网页，门户网站的所有网页吗？</p><p>候选人：不是，是媒体详情页，不是媒体列表页。</p><p>面试官：哦，那你做了哪些改进才做到的呢？</p><p>候选人：我把详情页上的评论部分改成Ajax调用了，这样页面加载出来，用户浏览评论区时再去异步请求获取评论。</p><p>面试官：了解了，那你通过什么方法得知这个页面加载时间从3秒优化成1.5秒的呢？</p><p>候选人：我们做了性能测试，压测我们beta环境的系统，1.5秒是TP99的值。</p><p>面试官：那在压测的过程中，系统的吞吐量是多少呢？</p><p>候选人：只有一个主请求，没有模拟静态资源访问的情况下，QPS上限大概是2000。</p><p>面试官：那在测试中你是怎样确认这个QPS已经达到上限了？</p><p>候选人：根据我们的单机压测模型，开始并发数逐渐增加，吞吐量线性增大，后来增长减缓，但到大概第10分钟的时候出现拐点，延迟突然增大，吞吐量也过了峰值走低。</p><p>这里抓住一个点深挖的目的，并不是考察候选人能否记得性能优化的每一处细节，而是要确认候选人是否真正参与了这个过程，是否对这个优化过程的几个核心问题有清晰准确的认识。</p><p>换言之，如果候选人重新做一个类似的性能优化项目，要看看他是否确实因为这个项目而具备了相当的功底。从中我们也可以看出候选人对于某项技术，到底把握到何种程度，对于做过的项目和系统，是否具备一定深度的理解。</p><p>需要说明的是，一个技术点的深挖要以拿到预期的考察数据为目标，可以问1分钟，可以问10分钟，这都是没有限制的。一旦拿到了预期考察的数据，不必过多纠缠，继续下一个环节。</p><p>当然，这个话题点一定要是候选人（至少是自称）熟悉的，并且，<strong>深挖和关注细节不是纠缠于细节，我们不要把追问变成钻牛角尖，也不要把追问变成“考记忆力”。</strong></p><h3 id="全新的问题"><a aria-hidden="true" tabindex="-1" href="/blog-other/技术面试官识人手册/03.面试进行实践篇/03#全新的问题"><span class="icon icon-link"></span></a>全新的问题</h3><p>前面讲了我们怎样去考察候选人对于他做过的、熟悉的系统，到底有多少理解，下面我们再来讲讲，如果是一个新问题呢，候选人能否顺利地设计一个全新的系统来解决它？这两个方面其实是互相独立的。</p><p>那我们就用一个模拟案例来介绍，如果我们像<a target="_blank" rel="noopener noreferrer" href="https://time.geekbang.org/column/article/362407">第4讲<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>说的，像做一个迷你项目一样，给出一个实际问题，层层递进，逐步细化、分解和延伸成一个系统设计的问题（如果你忘记了，请一定回看第4讲），我们又该注意哪些方面。那个具体问题就是：</p><blockquote><p>“请你设计一个网约车系统。”</p></blockquote><p>并且我们也谈到了，经过细化以后，下面的系统设计考察，就是要求设计一个系统，来完成定位、叫车、搜索、接单等网约车系统的核心功能，如：</p><ol><li>乘客可以随时随地叫车；</li><li>系统寻找邻近的司机并转发请求，如果无法接单，继续扩大寻找范围；</li><li>司机可以抢单，即接受或者拒绝叫车请求；</li><li>双方可以刷新自己在地图上的位置，也可以查看彼此当前的位置。</li></ol><p>对于非功能需求，特别是系统容量的估算，我们后续将在专题中谈到；而对于功能需求的系统实现方面，我们继续来看后面候选人和面试官之间的对话片段。</p><p><strong>第一阶段：客户端 - Service - 存储的基本层次建立</strong></p><p>面试官：根据我们的讨论所确定的需求，这个系统中会有哪些主要模块？（要求澄清）</p><p>候选人：我觉得这个系统中，乘客可以叫车，司机可以接单，因此我打算创建一个Ride Service来接受乘客的请求，ride的信息存放在数据库中。整个交互过程如下图：</p><ol><li>乘客请求乘坐，提交一个ride（相当于一个请求乘坐的订单）；</li><li>Ride Service将乘坐请求发给多个司机；</li><li>司机抢单；</li><li>Ride Service再将接单的信息告知乘客。</li></ol><p><img src="/blog-other/static/httpsstatic001geekbangorgresourceimagee850e8a3c8d7a4001152ed4772f7e41f1650.75cf7631.png" alt=""/></p><p><strong>第二阶段：Service 解耦</strong></p><p>面试官：嗯，那么其中的第2步和第4步，消息怎样从服务端传递给客户端呢？（要求澄清）</p><p>候选人：我觉得可以使用长连接，来保证消息能够第一时间送达，如果这一步失败，iOS或者安卓平台还有统一的消息推送机制。</p><p>面试官：好，那么Ride Service怎么来寻找合适的司机来转发乘客的乘坐请求呢？（给出挑战）</p><p>候选人：我觉得Ride Service知道所有乘客和司机的位置，那就可以寻找最近的一些匹配，位置可以通过司机和乘客各自手机上的app来汇报，比如每十秒钟就汇报一次GPS位置。</p><p>面试官：可是我没有看到你画的图中有这个啊？（要求澄清）</p><p>候选人：哦，他们都汇报给Ride Service。</p><p>面试官：所以，位置信息归Ride Service管，乘车请求的匹配归Ride Service管，匹配上了以后，结果的通知也归Ride Service管，它一个service要管那么多事情吗？（给出提示）</p><p>候选人：嗯……我觉得可以解耦，根据单一职责的原则，让一个service只做一件主要的事情：</p><ul><li>Ride Service只管ride的匹配和决策；</li><li>Notification Service负责通知消息；</li><li>Location Service负责维护司机和乘客的位置。</li></ul><p><img src="/blog-other/static/httpsstatic001geekbangorgresourceimaged8fcd8137ed34cbeaeb73ac5f0d402b6dbfc.9d3e5721.png" alt=""/></p><p><strong>第三阶段：进一步解耦，补足缺失</strong></p><p>面试官：嗯，确实看起来好多了。但是我还有个问题，司机和乘客汇报GPS位置的时候，从图上看，只有在乘客请求和司机接受ride的时候才会汇报位置信息吗？。（要求澄清）</p><p>候选人：哦，系统是需要实时获取位置信息，才好做匹配，我觉得GPS的信息也应该从ride的逻辑解耦开，应该有单独的位置汇报请求发给Location Service。</p><p><img src="/blog-other/static/httpsstatic001geekbangorgresourceimagecff4cf4ae62f446880320000614bdb170bf4.6a41d9cc.png" alt=""/></p><p><strong>第四阶段：细化存储层设计</strong></p><p>面试官：嗯，不错。我注意到ride数据和位置数据也随着Ride Service和Location Service的解耦而分离开了，这很好。那么，对于这两类数据的存储，你打算分别选用怎样的技术来实现呢？</p><p>候选人：ride数据需要接受关系查询，位置信息需要根据司机、乘客的ID来查询，还需要能够快速找到邻近位置的司机和乘客……（对于这两类数据的存储，可以作为下一个话题来详细展开）</p><p>不知道你发现没有，这个小片段，就模拟了面试官使用“要求澄清”和“给出挑战”两大法宝，怎样领着候选人一步步攻克系统设计问题的过程，这个过程和上一讲的算法和数据结构面试，是类似的。</p><p>其中，对于位置数据的存储，如果感兴趣的话《全栈工程师修炼指南》的<a target="_blank" rel="noopener noreferrer" href="https://time.geekbang.org/column/article/162965">第26讲<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>中，我做了详细的介绍，你可以做延伸阅读。</p><p><img src="/blog-other/static/httpsstatic001geekbangorgresourceimage2cfa2c610e117e0ebdb75a614375ee70b9fa.85407d9b.png" alt=""/></p><h2 id="总结与思考"><a aria-hidden="true" tabindex="-1" href="/blog-other/技术面试官识人手册/03.面试进行实践篇/03#总结与思考"><span class="icon icon-link"></span></a>总结与思考</h2><p>好，今天的内容主要就是这些。</p><p>我先给你举了一些系统设计面试的踩坑案例，然后又给你分享了两类主要的面试方式，深挖候选人做过的系统，或者和他一起讨论一个全新迷你项目的实现，它们都能考察候选人对于系统的理解，但是又各有侧重。</p><p>你可以结合我为你还原的面试现场对话，仔细体会系统面试的操作方法。</p><p>这里我需要额外强调的是，系统设计就和算法一样，我们还是更应该关注基础，选择合适的问题，可以问，但不要一味追求高大上的“海量存储”、“大数据”这样的问题，这和算法和数据结构的面试不要过度追求“偏题”、“怪题”是一样的。</p><p><strong>毕竟，能将生活中那些实际的问题，选择合适的工程技术来解决，才是软件工程师最根本的使命。</strong></p><p><img src="/blog-other/static/httpsstatic001geekbangorgresourceimageaf1daf55fabf291cc6c979d439b7541cbd1d.cb883e6a.jpg" alt=""/></p><p>在最后，我想请你聊一聊你在阅读后的想法，特别是你是否有系统面试的经历，你觉得有哪些特别重要的方面，能否在留言区谈一谈呢？我会积极回复你的想法和问题。</p><p>好，我是四火，我们下一讲见！</p></div><div class="__dumi-default-layout-footer-meta"><a target="_blank" rel="noopener noreferrer" href="https://github.com/GGwujun/blog/edit/master/ssrc/技术面试官识人手册/03.面试进行实践篇/03.md">在 GitHub 上编辑此页<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><span data-updated-text="最后更新时间：">2023/9/23 21:58:31</span></div></div></div></div>
	<script>
  window.g_useSSR = true;
  window.g_initialProps = {};
	</script>

    <script>
      (function () {
        if (!location.port) {
          (function (i, s, o, g, r, a, m) {
            i["GoogleAnalyticsObject"] = r;
            (i[r] =
              i[r] ||
              function () {
                (i[r].q = i[r].q || []).push(arguments);
              }),
              (i[r].l = 1 * new Date());
            (a = s.createElement(o)), (m = s.getElementsByTagName(o)[0]);
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m);
          })(
            window,
            document,
            "script",
            "//www.google-analytics.com/analytics.js",
            "ga"
          );
          ga("create", "UA-149864185-1", "auto");
          ga("send", "pageview");
        }
      })();
    </script>
    <script src="/blog-other/umi.js"></script>
  </body>
</html>
