<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"
    />
    <link rel="shortcut icon" type="image/x-icon" href="/logo.png" />
    <link rel="stylesheet" href="/blog-other/umi.css" />
    <script>
      window.routerBase = "/blog-other";
    </script>
    <script>
      //! umi version: 3.5.41
    </script>
    <script>
      !(function () {
        var e =
            navigator.cookieEnabled && void 0 !== window.localStorage
              ? localStorage.getItem("dumi:prefers-color")
              : "auto",
          o = window.matchMedia("(prefers-color-scheme: dark)").matches,
          t = ["light", "dark", "auto"];
        document.documentElement.setAttribute(
          "data-prefers-color",
          e === t[2] ? (o ? t[1] : t[0]) : t.indexOf(e) > -1 ? e : t[0]
        );
      })();
    </script>
    <title>05 | 数据探索：怎样从数据中找到用户的RFM值？ - 大师兄</title>
  </head>
  <body>
    <div id="root"><div class="__dumi-default-layout" data-route="/零基础实战机器学习/03.业务场景闯关篇/01" data-show-sidemenu="true" data-show-slugs="true" data-site-mode="true" data-gapless="false"><div class="__dumi-default-navbar" data-mode="site"><button class="__dumi-default-navbar-toggle"></button><a class="__dumi-default-navbar-logo" style="background-image:url(&#x27;/logo.png&#x27;)" href="/blog-other/">大师兄</a><nav><div class="__dumi-default-search"><input type="search" class="__dumi-default-search-input" value=""/><ul></ul></div><span>前端开发<ul><li><a href="/blog-other/说透低代码">说透低代码</a></li><li><a href="/blog-other/反爬虫兵法演绎20讲">反爬虫兵法演绎20讲</a></li></ul></span><span>产品与用户体验<ul><li><a href="/blog-other/大厂广告产品心法">大厂广告产品心法</a></li></ul></span><span>面试<ul><li><a href="/blog-other/技术面试官识人手册">技术面试官识人手册</a></li><li><a href="/blog-other/面试现场">面试现场</a></li></ul></span><span>杂谈<ul><li><a href="/blog-other/乔新亮的cto成长复盘">乔新亮的cto成长复盘</a></li><li><a href="/blog-other/互联网人的英语私教课">互联网人的英语私教课</a></li><li><a href="/blog-other/从0开始学游戏开发">从0开始学游戏开发</a></li><li><a href="/blog-other/全栈工程师修炼指南">全栈工程师修炼指南</a></li><li><a href="/blog-other/手机摄影">手机摄影</a></li><li><a href="/blog-other/物联网开发实战">物联网开发实战</a></li><li><a href="/blog-other/白话法律42讲">白话法律42讲</a></li><li><a href="/blog-other/说透5g">说透5g</a></li><li><a href="/blog-other/超级访谈对话张雪峰">超级访谈对话张雪峰</a></li><li><a aria-current="page" class="active" href="/blog-other/零基础实战机器学习">零基础实战机器学习</a></li></ul></span><div class="__dumi-default-navbar-tool"><div class="__dumi-default-dark"><div class="__dumi-default-dark-switch "></div></div></div></nav></div><div class="__dumi-default-menu" data-mode="site"><div class="__dumi-default-menu-inner"><div class="__dumi-default-menu-header"><a class="__dumi-default-menu-logo" style="background-image:url(&#x27;/logo.png&#x27;)" href="/blog-other/"></a><h1>大师兄</h1><p></p></div><div class="__dumi-default-menu-mobile-area"><ul class="__dumi-default-menu-nav-list"><li>前端开发<ul><li><a href="/blog-other/说透低代码">说透低代码</a></li><li><a href="/blog-other/反爬虫兵法演绎20讲">反爬虫兵法演绎20讲</a></li></ul></li><li>产品与用户体验<ul><li><a href="/blog-other/大厂广告产品心法">大厂广告产品心法</a></li></ul></li><li>面试<ul><li><a href="/blog-other/技术面试官识人手册">技术面试官识人手册</a></li><li><a href="/blog-other/面试现场">面试现场</a></li></ul></li><li>杂谈<ul><li><a href="/blog-other/乔新亮的cto成长复盘">乔新亮的cto成长复盘</a></li><li><a href="/blog-other/互联网人的英语私教课">互联网人的英语私教课</a></li><li><a href="/blog-other/从0开始学游戏开发">从0开始学游戏开发</a></li><li><a href="/blog-other/全栈工程师修炼指南">全栈工程师修炼指南</a></li><li><a href="/blog-other/手机摄影">手机摄影</a></li><li><a href="/blog-other/物联网开发实战">物联网开发实战</a></li><li><a href="/blog-other/白话法律42讲">白话法律42讲</a></li><li><a href="/blog-other/说透5g">说透5g</a></li><li><a href="/blog-other/超级访谈对话张雪峰">超级访谈对话张雪峰</a></li><li><a aria-current="page" class="active" href="/blog-other/零基础实战机器学习">零基础实战机器学习</a></li></ul></li></ul><div class="__dumi-default-dark"><div class="__dumi-default-dark-switch "><button title="Dark theme" class="__dumi-default-dark-moon "><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3854" width="22" height="22"><path d="M991.816611 674.909091a69.166545 69.166545 0 0 0-51.665455-23.272727 70.795636 70.795636 0 0 0-27.438545 5.585454A415.674182 415.674182 0 0 1 754.993338 698.181818c-209.594182 0-393.472-184.785455-393.472-395.636363 0-52.363636 38.539636-119.621818 69.515637-173.614546 4.887273-8.610909 9.634909-16.756364 14.103272-24.901818A69.818182 69.818182 0 0 0 384.631156 0a70.842182 70.842182 0 0 0-27.438545 5.585455C161.678429 90.298182 14.362065 307.898182 14.362065 512c0 282.298182 238.824727 512 532.38691 512a522.286545 522.286545 0 0 0 453.957818-268.334545A69.818182 69.818182 0 0 0 991.816611 674.909091zM546.679156 954.181818c-248.785455 0-462.941091-192-462.941091-442.181818 0-186.647273 140.637091-372.829091 300.939637-442.181818-36.817455 65.629091-92.578909 151.970909-92.578909 232.727273 0 250.181818 214.109091 465.454545 462.917818 465.454545a488.331636 488.331636 0 0 0 185.181091-46.545455 453.003636 453.003636 0 0 1-393.565091 232.727273z m103.656728-669.323636l-14.266182 83.781818a34.909091 34.909091 0 0 0 50.362182 36.770909l74.775272-39.563636 74.752 39.563636a36.142545 36.142545 0 0 0 16.174546 3.956364 34.909091 34.909091 0 0 0 34.210909-40.727273l-14.289455-83.781818 60.509091-59.345455a35.025455 35.025455 0 0 0-19.223272-59.578182l-83.61891-12.101818-37.376-76.101818a34.56 34.56 0 0 0-62.254545 0l-37.376 76.101818-83.618909 12.101818a34.909091 34.909091 0 0 0-19.246546 59.578182z m70.423272-64.698182a34.280727 34.280727 0 0 0 26.135273-19.083636l14.312727-29.090909 14.336 29.090909a34.257455 34.257455 0 0 0 26.135273 19.083636l32.046546 4.887273-23.272728 22.574545a35.234909 35.234909 0 0 0-10.007272 30.952727l5.46909 32.116364-28.625454-15.127273a34.490182 34.490182 0 0 0-32.302546 0l-28.695272 15.127273 5.469091-32.116364a35.141818 35.141818 0 0 0-9.984-30.952727l-23.272728-22.574545z" p-id="3855"></path></svg></button><button title="Light theme" class="__dumi-default-dark-sun "><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4026" width="22" height="22"><path d="M915.2 476.16h-43.968c-24.704 0-44.736 16-44.736 35.84s20.032 35.904 44.736 35.904H915.2c24.768 0 44.8-16.064 44.8-35.904s-20.032-35.84-44.8-35.84zM512 265.6c-136.704 0-246.464 109.824-246.464 246.4 0 136.704 109.76 246.464 246.464 246.464S758.4 648.704 758.4 512c0-136.576-109.696-246.4-246.4-246.4z m0 425.6c-99.008 0-179.2-80.128-179.2-179.2 0-98.944 80.192-179.2 179.2-179.2S691.2 413.056 691.2 512c0 99.072-80.192 179.2-179.2 179.2zM197.44 512c0-19.84-19.136-35.84-43.904-35.84H108.8c-24.768 0-44.8 16-44.8 35.84s20.032 35.904 44.8 35.904h44.736c24.768 0 43.904-16.064 43.904-35.904zM512 198.464c19.776 0 35.84-20.032 35.84-44.8v-44.8C547.84 84.032 531.84 64 512 64s-35.904 20.032-35.904 44.8v44.8c0 24.768 16.128 44.864 35.904 44.864z m0 627.136c-19.776 0-35.904 20.032-35.904 44.8v44.736C476.096 940.032 492.16 960 512 960s35.84-20.032 35.84-44.8v-44.736c0-24.768-16.064-44.864-35.84-44.864z m329.92-592.832c17.472-17.536 20.288-43.072 6.4-57.024-14.016-14.016-39.488-11.2-57.024 6.336-4.736 4.864-26.496 26.496-31.36 31.36-17.472 17.472-20.288 43.008-6.336 57.024 13.952 14.016 39.488 11.2 57.024-6.336 4.8-4.864 26.496-26.56 31.296-31.36zM213.376 759.936c-4.864 4.8-26.56 26.624-31.36 31.36-17.472 17.472-20.288 42.944-6.4 56.96 14.016 13.952 39.552 11.2 57.024-6.336 4.8-4.736 26.56-26.496 31.36-31.36 17.472-17.472 20.288-43.008 6.336-56.96-14.016-13.952-39.552-11.072-56.96 6.336z m19.328-577.92c-17.536-17.536-43.008-20.352-57.024-6.336-14.08 14.016-11.136 39.488 6.336 57.024 4.864 4.864 26.496 26.56 31.36 31.424 17.536 17.408 43.008 20.288 56.96 6.336 14.016-14.016 11.264-39.488-6.336-57.024-4.736-4.864-26.496-26.56-31.296-31.424z m527.168 628.608c4.864 4.864 26.624 26.624 31.36 31.424 17.536 17.408 43.072 20.224 57.088 6.336 13.952-14.016 11.072-39.552-6.4-57.024-4.864-4.8-26.56-26.496-31.36-31.36-17.472-17.408-43.072-20.288-57.024-6.336-13.952 14.016-11.008 39.488 6.336 56.96z" p-id="4027"></path></svg></button><button title="Default to system" class="__dumi-default-dark-auto "><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="11002" width="22" height="22"><path d="M127.658667 492.885333c0-51.882667 10.24-101.717333 30.378666-149.162666s47.786667-88.064 81.92-122.538667 75.093333-61.781333 122.538667-81.92 96.938667-30.378667 149.162667-30.378667 101.717333 10.24 149.162666 30.378667 88.405333 47.786667 122.88 81.92 61.781333 75.093333 81.92 122.538667 30.378667 96.938667 30.378667 149.162666-10.24 101.717333-30.378667 149.162667-47.786667 88.405333-81.92 122.88-75.093333 61.781333-122.88 81.92-97.28 30.378667-149.162666 30.378667-101.717333-10.24-149.162667-30.378667-88.064-47.786667-122.538667-81.92-61.781333-75.093333-81.92-122.88-30.378667-96.938667-30.378666-149.162667z m329.045333 0c0 130.048 13.994667 244.394667 41.984 343.381334h12.970667c46.762667 0 91.136-9.216 133.461333-27.306667s78.848-42.666667 109.568-73.386667 54.954667-67.242667 73.386667-109.568 27.306667-86.698667 27.306666-133.461333c0-46.421333-9.216-90.794667-27.306666-133.12s-42.666667-78.848-73.386667-109.568-67.242667-54.954667-109.568-73.386667-86.698667-27.306667-133.461333-27.306666h-11.605334c-28.672 123.562667-43.349333 237.909333-43.349333 343.722666z" p-id="11003"></path></svg></button></div></div></div><ul class="__dumi-default-menu-list"><li><a href="/blog-other/零基础实战机器学习">零基础实战机器学习</a></li><li><a href="/blog-other/零基础实战机器学习/01.开篇词">01.开篇词</a><ul><li><a href="/blog-other/零基础实战机器学习/01.开篇词/01"><span>开篇词｜开发者为什么要从实战出发学机器学习？</span></a></li></ul></li><li><a href="/blog-other/零基础实战机器学习/02.准备篇">02.准备篇</a><ul><li><a href="/blog-other/零基础实战机器学习/02.准备篇/01"><span>01｜打好基础：到底什么是机器学习？</span></a></li><li><a href="/blog-other/零基础实战机器学习/02.准备篇/02"><span>02｜工具准备：安装并使用Jupyter Notebook</span></a></li><li><a href="/blog-other/零基础实战机器学习/02.准备篇/03"><span>03｜实战5步（上）：怎么定义问题和预处理数据？</span></a></li><li><a href="/blog-other/零基础实战机器学习/02.准备篇/04"><span>04｜ 实战5步（下）：怎么建立估计10万+软文点击率的模型？</span></a></li></ul></li><li><a aria-current="page" class="active" href="/blog-other/零基础实战机器学习/03.业务场景闯关篇">03.业务场景闯关篇</a><ul><li><a aria-current="page" class="active" href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/01"><span>05 | 数据探索：怎样从数据中找到用户的RFM值？</span></a></li><li><a href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/02"><span>06 | 聚类分析：如何用RFM给电商用户做价值分组画像？</span></a></li><li><a href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/03"><span>07｜回归分析：怎样用模型预测用户的生命周期价值？</span></a></li><li><a href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/04"><span>08 | 模型优化（上）：怎么用特征工程提高模型效率？</span></a></li><li><a href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/05"><span>09｜模型优化（中）：防止过拟合，模型也不能太精细</span></a></li><li><a href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/06"><span>10｜模型优化（下）：交叉验证，同时寻找最优的参数</span></a></li><li><a href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/07"><span>11｜深度学习（上）：用CNN带你认识深度学习</span></a></li><li><a href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/08"><span>12｜深度学习（中）：如何用RNN预测激活率走势？</span></a></li><li><a href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/09"><span>13｜深度学习（下）：3招提升神经网络预测准确率</span></a></li><li><a href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/10"><span>14｜留存分析：哪些因素会影响用户的留存率？</span></a></li><li><a href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/11"><span>15｜二元分类：怎么预测用户是否流失？从逻辑回归到深度学习</span></a></li><li><a href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/12"><span>16｜性能评估：不平衡数据集应该使用何种评估指标？</span></a></li><li><a href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/13"><span>17｜集成学习：机器学习模型如何“博采众长”?</span></a></li><li><a href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/14"><span>18 | 增长模型：用XGBoost评估裂变海报的最佳受众群体</span></a></li></ul></li><li><a href="/blog-other/零基础实战机器学习/04.持续赋能篇">04.持续赋能篇</a><ul><li><a href="/blog-other/零基础实战机器学习/04.持续赋能篇/01"><span>19 | 胸有成竹：如何快速定位合适的机器学习算法？</span></a></li><li><a href="/blog-other/零基础实战机器学习/04.持续赋能篇/02"><span>20 | 模型部署：怎么发布训练好的机器学习模型？</span></a></li><li><a href="/blog-other/零基础实战机器学习/04.持续赋能篇/03"><span>21｜持续精进：如何在机器学习领域中找准前进的方向？</span></a></li></ul></li><li><a href="/blog-other/零基础实战机器学习/05.结束语">05.结束语</a><ul><li><a href="/blog-other/零基础实战机器学习/05.结束语/01"><span>一套习题，测出你对机器学习的掌握程度</span></a></li><li><a href="/blog-other/零基础实战机器学习/05.结束语/02"><span>结束语 | 可以不完美，但重要的是马上开始</span></a></li></ul></li><li><a href="/blog-other/零基础实战机器学习/summary">零基础实战机器学习</a></li></ul></div></div><ul role="slug-list" class="__dumi-default-layout-toc"><li title="1.数据可视化" data-depth="2"><a href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/01#1数据可视化"><span>1.数据可视化</span></a></li><li title="2.数据清洗" data-depth="2"><a href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/01#2数据清洗"><span>2.数据清洗</span></a></li></ul><div class="__dumi-default-layout-content"><div class="markdown"><h1 id="05--数据探索怎样从数据中找到用户的rfm值"><a aria-hidden="true" tabindex="-1" href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/01#05--数据探索怎样从数据中找到用户的rfm值"><span class="icon icon-link"></span></a>05 | 数据探索：怎样从数据中找到用户的RFM值？</h1><p>你好，我是黄佳。</p><p>今天我们正式进入“业务场景闯关篇”模块。我在开篇词中介绍过，在这个模块中，我会围绕电商场景下的运营环节，带你挑战5个关卡：获客关、变现关、激活关、留存关和裂变关，帮你逐步掌握机器学习的相关知识和实操技巧。今天，我们就从第一关“获客关”开始！</p><p><img src="/blog-other/static/httpsstatic001geekbangorgresourceimage760876466435764dc810ab26d93a8a2b5a08.b5f049ac.jpg" alt=""/></p><p>人们常说移动互联网的运营已经进入了下半场，几乎所有的企业都希望能用更优质的产品和更精准的服务留住用户，这就需要制定出合适的获客策略。而要做到这一点，前提就是为用户精准画像，也就是根据用户的人口统计信息和消费行为数据，给用户分组，然后推测出用户的消费习惯和价值高低。</p><p>所以，为用户分组、画像，找到不同用户的特点，进而挖掘出哪些才是最有价值的用户，是目前互联网大厂中的数据分析师和机器学习工程师常做的工作。既然如此，那么我们就在获客关，结合一个具体的电商项目，来看看怎么根据用户的基本信息和消费行为数据，给用户分组画像。</p><h1 id="定义问题"><a aria-hidden="true" tabindex="-1" href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/01#定义问题"><span class="icon icon-link"></span></a>定义问题</h1><p>按照我们前两讲所说的机器学习“实战5步”，我们首先要做的就是，把项目的问题定义清楚。在我们这个项目中，你可以想象自己就职于一家名为“易速鲜花”的创业公司，担任这家公司的运营团队机器学习工程师。你现在要接手的第一个项目就是为公司的用户分组画像。</p><p>现在，你们的运营部门已经准备好了过往用户的基本信息和消费行为数据，你可以在<a target="_blank" rel="noopener noreferrer" href="https://github.com/huangjia2019/geektime/tree/main/%E8%8E%B7%E5%AE%A2%E5%85%B305">这里<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>下载获取它，然后用Excel打开，就能看到这个数据集中所包含的详细信息。</p><p><img src="/blog-other/static/httpsstatic001geekbangorgresourceimagec1c6c1b4f484eb7884a2b44961d9abe842c6.2edd0e03.png" alt=""/></p><p>既然我们要从这份销售订单数据中，为用户分组画像，那么有一个关键的问题就是，我们以什么为依据，给用户做分组？</p><p>我们知道，用户的消费行为本身是不能直接用于数据分析的，这就需要我们把用户的行为转化成具体的数值，也就是可量化的指标，让我们对用户有更直观的认识。而且我们还可以将这些指标用在数据分析、广告精准投放、产品推荐系统等多个运营场景，来提升我们产品和服务的精准度。</p><p>这个具体的数值呢，就是RFM（Recency、Frequency、Monetary ），它是用户画像的衍生品，也是目前很多互联网厂商普遍采用的分析方式。具体来看：</p><ul><li>**R是新进度，代表自用户上次消费以来的天数。**这个指标其实也就是用户的热乎度，比如说你上次使用App是一个月前，你的系统里R值就是30。如果你今天又用了一次App，那R值就会立刻被更新为1；</li><li>**F是消费频率，代表用户是否频繁使用服务。**这也是用户黏性的风向标；</li><li>**M是消费金额，代表用户在一段时间内消费的总金额，**这个不难理解。</li></ul><p>通过用户消费行为的新进度、消费的总体频率，还有消费总金额这三项指标，我们可以将用户划分为不同的类别或集群，来直观地描述用户的价值。什么意思呢？简单来说就是，只要我们从用户的基本信息和消费行为数据中得出RFM值，就可以根据它对用户分组画像了。</p><p>所以，我们这个项目整体上可以分为两个阶段：第一个阶段是求出RFM值，第二个阶段就是利用RFM值，给用户分组画像，进而绘制出高价值、中等价值和低价值用户的分布情况。我们今天这节课的目标就是解决第一阶段的问题。</p><p>搞清楚问题后，现在我们来看看这份数据的整体状况，根据需要对数据进行一个初步的预处理。</p><h1 id="数据预处理"><a aria-hidden="true" tabindex="-1" href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/01#数据预处理"><span class="icon icon-link"></span></a>数据预处理</h1><p>由于已经完成了数据收集工作，我们现在直接用Pandas中的read_csv工具，把这个原始数据集读入到Pandas的DataFrame中，用Dataframe形式呈现出来。关于Pandas包及其导入方式，如果你感觉比较陌生，可以再回顾一下<a target="_blank" rel="noopener noreferrer" href="https://time.geekbang.org/column/article/414504">第三讲<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>的内容。</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">import pandas as pd #导入Pandas</span></div><div class="token-line"><span class="token plain">    df_sales = pd.read_csv(&#x27;易速鲜花订单记录.csv&#x27;) #载入数据</span></div><div class="token-line"><span class="token plain">    df_sales.head() #显示头几行数据</span></div></pre></div><p>运行这段代码后，输出如下：</p><p><img src="data:image/png;base64,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" alt=""/></p><p>从图中，你可以看到这个数据集主要包含了订单号、产品码、消费日期，产品说明、数量、单价、用户码和城市等字段。因为我们求的是用户消费行为的新进度（R）、消费的总体频率（F），还有消费总金额（M），所以在这些信息中，我们重点关注的是以下几个数据：</p><ul><li>用户码</li><li>单价</li><li>（订单中产品的）数量</li><li>消费日期</li></ul><p>为了对公司运营团队交给我们的数据集有一个宏观上的了解，下面我们先做一个整体的数据可视化，看看这个数据集所覆盖的消费日期跨度是怎样的。</p><h2 id="1数据可视化"><a aria-hidden="true" tabindex="-1" href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/01#1数据可视化"><span class="icon icon-link"></span></a>1.数据可视化</h2><p>我们直接来看具体的实现代码：</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">import matplotlib.pyplot as plt #导入Matplotlib的pyplot模块</span></div><div class="token-line"><span class="token plain">    #构建月度的订单数的DataFrame</span></div><div class="token-line"><span class="token plain">    df_sales[&#x27;消费日期&#x27;] = pd.to_datetime(df_sales[&#x27;消费日期&#x27;]) #转化日期格式</span></div><div class="token-line"><span class="token plain">    df_orders_monthly = df_sales.set_index(&#x27;消费日期&#x27;)[&#x27;订单号&#x27;].resample(&#x27;M&#x27;).nunique() #每个月的订单数量</span></div><div class="token-line"><span class="token plain">    #设定绘图的画布</span></div><div class="token-line"><span class="token plain">    ax = pd.DataFrame(df_orders_monthly.values).plot(grid=True,figsize=(12,6),legend=False)</span></div><div class="token-line"><span class="token plain">    ax.set_xlabel(&#x27;月份&#x27;) # X轴label</span></div><div class="token-line"><span class="token plain">    ax.set_ylabel(&#x27;订单数&#x27;) # Y轴Label</span></div><div class="token-line"><span class="token plain">    ax.set_title(&#x27;月度订单数&#x27;) # 图题</span></div><div class="token-line"><span class="token plain">    #设定X轴月份显示格式</span></div><div class="token-line"><span class="token plain">    plt.xticks(</span></div><div class="token-line"><span class="token plain">        range(len(df_orders_monthly.index)), </span></div><div class="token-line"><span class="token plain">        [x.strftime(&#x27;%m.%Y&#x27;) for x in df_orders_monthly.index], </span></div><div class="token-line"><span class="token plain">        rotation=45)</span></div><div class="token-line"><span class="token plain">    plt.show() # 绘图</span></div></pre></div><p>在这段代码中，你需要注意的是，我们这里使用了Pandas的to_datetime这个API，把原始消费日期转换成了能处理的格式。而在df_orders_monthly中，则是求出了每一个月的订单数量。再往后的代码是具体的绘图工具使用，我就不过多说明了。</p><p>输出如下：</p><p><img src="/blog-other/static/httpsstatic001geekbangorgresourceimage749a74193758e9c81523e1eb9826eda6949a.c620cc95.png" alt=""/></p><p>我们看到，这个数据集收集了“易速鲜花”公司一整年的订单量。所以啊，我们要求的消费额M，实际上是每个用户一整年的总消费额。</p><p>你可能已经注意到，在最后一个月，也就是2021年6月，订单量突然大幅下降。其实这是因为运营人员拉这个表的时候，正是6月的第一个礼拜。所以，6月的数据虽然不全，但并不会影响我们对用户RFM值的分析。</p><h2 id="2数据清洗"><a aria-hidden="true" tabindex="-1" href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/01#2数据清洗"><span class="icon icon-link"></span></a>2.数据清洗</h2><p>完成了初步可视化之后，我们来清洗一下数据。请你注意，在刚才的可视化过程中，我们已经完成了对消费日期的观察，并没有发现什么异常。所以，现在我们重点要处理的是用户码、单价和（订单中产品的）数量。</p><p>首先，我们用Pandas中的drop_duplicates方法把完全相同的重复数据行删除掉。</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">df_sales = df_sales.drop_duplicates() #删除重复的数据行</span></div></pre></div><p>我之前介绍过，你还可以用DataFrame的isna().sum()函数，来统计NaN的个数。当然，如果你尝试了这个方法，会发现这个数据集中没有NaN值。</p><p>此外，对于数量、金额等类型的数据，我们还常常会使用describe方法来查看这些字段的统计信息是否有脏数据。</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">plain</span></div><div class="token-line"><span class="token plain">    df_sales.describe() #df_sales的统计信息</span></div></pre></div><p>输出如下：</p><p><img src="data:image/png;base64,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" alt=""/></p><p>在图中你可以看到这个数据集中，共有9万多行的数据（count统计数据条目的数量），每条数据的平均采购数量是10（mean统计均值），商品平均单价是3.575元左右。</p><p>在概览中我们发现，（订单中产品的）数量的最小值（min）是一个负数（-9360），这显然是不符合逻辑的，所以我们要把这种脏数据清洗掉。具体的处理方式是，用loc属性通过字段名（也就是列名）访问数据集，同时只保留“数量”字段大于0的数据行：</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">df_sales = df_sales.loc[df_sales[&#x27;数量&#x27;] &gt; 0] #清洗掉数量小于等于0的数据</span></div></pre></div><p>在DataFrame对象中，loc属性是通过行、列的名称来访问数据的，我们做数据预处理时会经常用到；还有一个常被用到的属性是iloc，它是通过行列的位置（也就是序号）来访问数据的。</p><p>由于数据行的名称往往也是数值，这两者非常容易被弄混。所以，在这里我特地给你做了一张图，来说明什么是行列名、什么是行列序号，帮你弄清楚它们的区别。</p><p><img src="/blog-other/static/httpsstatic001geekbangorgresourceimagee4dee4165807e638ac602fb64fab28a0b8de.03a7d4bf.jpg" alt=""/></p><p>这个语句执行后，如果你再用一次describe方法，就会看到新的最小数量为1，这就对了。</p><p><img src="data:image/png;base64,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" alt=""/></p><p>到这里，我们就完成了数据清洗工作，这份数据集中已经没有可以剔除的脏数据了。接下来，我们就看看怎么从中求得RFM值。</p><h1 id="求rfm值"><a aria-hidden="true" tabindex="-1" href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/01#求rfm值"><span class="icon icon-link"></span></a>求RFM值</h1><p>不过在计算RFM之前，我想请你再回顾一下我们整个项目的目标。我们的目标就是建立一个机器学习模型，给用户做价值分组。而其中，RFM实际上就是我们构建模型所需的关键特征数据。</p><p>讲到这里，我想你应该很清楚了，虽说我们这节课要求出RFM的值，但实际上，我们是在完成机器学习项目中的“特征工程”环节，也就是对原始数据集中的信息进行选择、提取、合并、加工、转换，甚至是基于原始信息构建出新的、对于模型的训练更具有意义的特征。</p><p>明白了这一点，我们就可以继续往下走了。那怎么计算这个RFM值呢？</p><p>其实，这里的R值（最近一次消费的天数）和F值（消费频率），我们通过数据集中的消费日期就能得到，但是对于M值（消费金额），你会发现数据集中有采购数量，有单价，但是还没有每一笔消费的总价。</p><p>因此，我们通过一个语句对原有的数据集进行一个小小的扩展。在df_sales 这个DataFrame对象中增加一个数据列计算总价，总价等于由单价乘以数量：</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">df_sales[&#x27;总价&#x27;] = df_sales[&#x27;数量&#x27;] * df_sales[&#x27;单价&#x27;] #计算每单的总价</span></div><div class="token-line"><span class="token plain">    df_sales.head() #显示头几行数据</span></div></pre></div><p>输出如下：</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAkUAAAC1CAMAAABmrXvDAAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAHmUExURf//////56VVAFKm5//jpVIAAAAAAACCxv/HhAAAhMb//+emUgAAUqXj/wBVhIRVAP//xoQAUqVVUoQAAMaCAITH/wBVpef//6Xj5+fHhOf/51KChACChMbj///j56WCAMbjpcb/xsbHhOemhISm5+fjpcaCUlKCxuf/xlIAUoTH54QAhFIAhITHxgCCpaXjxoSCAP/jxoSCUsb/56WmpYRVUsbHpYSmpaWmUuempQBVUoSChFJVAMamUlJVUlKmxqWmhIRVhFJVpcbH51KmpaXHpf/HpaWxhKXHxvX19fW/fwBSn9719b59AE+f3vX1vn8AAAAAT5/a9QB9vn+/9fXan08AAN6fT/X13p9SAAAAf7719U9Sn9713k99vn9Sn38AT08Af759T08AT59ST38Af5/CnwBSf39SAAB9f76fT96fn599n59Sf5/avn+/vp+/nwB9n0+fn7713n+f3p99f399T97an399f399AJ+fvt6ff77an771vn+/3gBST5+fn09SAE+fvt7a9ZR9AJ+qf4RVpaXKpaVVhOfj/6WCUsbH/759f76/f5COT09ST971vt6/f5+fT3+fn5/a3vW/n599AN7a3t6/vr6/9X9Sf7OmUk9Sf5+ff099n099f599T5+/9VyGBosAAAABYktHRACIBR1IAAAAB3RJTUUH5wkXBzg605f/AQAAAAFvck5UAc+id5oAACMRSURBVHja7V0LlxzFdZ7dme0ZqXelhe1ZGdkJYEACJGxiOzaBAI5ikkxLPat57PbqhcRGMqBYCEwSsIPt2CQY5yUbO287if9p7qse3V3dM6tZXof7nYOnt7u6uurer+69VRz8tVoKhUKhUCgUCoVCoVAoFAqFQqFQKBQKhWL/WFpud1YiQrfV6h063GrFq2vwIOabEf0RQmelyxc923JpGX6OHMU/2vN9fv2etaV719Y3uq2kj38n3aXlrt9pBCOKN4/1Vj+3PH+vB4k46vNFIgPaPNbqgVGSLthu8xhNuZ/IAw9JO9m8b/P4Mt41Fq4zJvRFnaFBNrDfSjtrjqjrj4o6/vxKtece/b20/IV71tjLtW7E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" alt=""/></p><p>现在，在这个数据集中，<strong>用户码</strong>、<strong>总价</strong>和<strong>消费日期</strong>这三个字段，给我们带来了每一个用户的R、F、M信息。其中：</p><ul><li>一个用户上一次购物的日期，也就是最新的消费日期，就可以转化成这个用户的R值；</li><li>一个用户下的所有订单次数之和，就是消费频率值，也就是该用户的F值；</li><li>把一个用户所有订单的总价加起来，就是消费金额值，也就是该用户的M值。</li></ul><p>不过，我们目前的这个数据集是一个订单的历史记录，并不是以用户码为主键的数据表。而R、F、M信息是和用户相关的，每一个用户都拥有一个独立的R值、F值和M值，所以，在计算RFM值之前，我们需要先构建一个用户层级表。</p><ol><li>构建用户层级表</li></ol><p>构建用户层级表，简单来说就是生成一个以用户码为关键字段的 Dataframe对象df_user，然后在这个Dataframe对象中，逐步加入每一个用户的新近度（R）、消费频率（F）、消费金额（M），以及最终总的分组信息。</p><p>在代码实现上，我们用Dataframe的unique() 这个API，就能创建出以用户码为关键字段的用户层级表df_user，然后我们再设定字段名，并根据用户码进行排序，最后显示出这个表，就可以了：</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">df_user = pd.DataFrame(df_sales[&#x27;用户码&#x27;].unique()) #生成以用户码为主键的结构df_user</span></div><div class="token-line"><span class="token plain">    df_user.columns = [&#x27;用户码&#x27;] #设定字段名</span></div><div class="token-line"><span class="token plain">    df_user = df_user.sort_values(by=&#x27;用户码&#x27;,ascending=True).reset_index(drop=True) #按用户码排序</span></div><div class="token-line"><span class="token plain">    df_user #显示df_user</span></div></pre></div><p>请你注意，在上述语句中，reset_index(drop=True)的意思是重置索引，生成新的默认数值类型索引，并且不保留原来的索引。运行这段代码后，我们得到这样的结果：</p><p><img src="/blog-other/static/httpsstatic001geekbangorgresourceimage46b946d77e14780785ef546daa64c3568ab9.0e572e08.png" alt=""/></p><p>可以看到，我们一共有980个用户的数据。有了用户层级表，现在我们依次求出RFM，让这个用户层级表的结构越来越完整。</p><ol start="2"><li>求出R值</li></ol><p>我们知道，R值代表自用户上次消费以来的天数，它与最近一次消费的日期相关。所以，用表中最新订单的日期（拉出来这张表的日期）减去上一次消费的日期，就可以确定对应用户的R值。</p><p>下面是具体的代码实现，在每行代码中都给出了详细的注释，而且Pandas的语句也都不难理解，你可以看一看：</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">df_sales[&#x27;消费日期&#x27;] = pd.to_datetime(df_sales[&#x27;消费日期&#x27;]) #转化日期格式</span></div><div class="token-line"><span class="token plain">    df_recent_buy = df_sales.groupby(&#x27;用户码&#x27;).消费日期.max().reset_index() #构建消费日期信息</span></div><div class="token-line"><span class="token plain">    df_recent_buy.columns = [&#x27;用户码&#x27;,&#x27;最近日期&#x27;] #设定字段名</span></div><div class="token-line"><span class="token plain">    df_recent_buy[&#x27;R值&#x27;] = (df_recent_buy[&#x27;最近日期&#x27;].max() - df_recent_buy[&#x27;最近日期&#x27;]).dt.days #计算最新日期与上次消费日期的天数</span></div><div class="token-line"><span class="token plain">    df_user = pd.merge(df_user, df_recent_buy[[&#x27;用户码&#x27;,&#x27;R值&#x27;]], on=&#x27;用户码&#x27;) #把上次消费距最新日期的天数（R值）合并至df_user结构</span></div><div class="token-line"><span class="token plain">    df_user.head() #显示df_user头几行数据</span></div></pre></div><p>输出如下：</p><p><img src="data:image/png;base64,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" alt=""/></p><p>R值越大，说明该用户最近一次购物日距离当前日期越久，那么这样的用户就越是处于休眠状态。从表中可以看出来，编号为14682的用户已经有187天没有购物了。所以我们就可以判断这个用户呈现休眠态，很可能已经被别的购物平台所吸引了，也就是流失了。</p><ol start="3"><li>求出F值</li></ol><p>类似地，我们还可以求出F值，并把F值添加至用户层级表：</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">df_frequency = df_sales.groupby(&#x27;用户码&#x27;).消费日期.count().reset_index() #计算每个用户消费次数，构建df_frequency对象</span></div><div class="token-line"><span class="token plain">    df_frequency.columns = [&#x27;用户码&#x27;,&#x27;F值&#x27;] #设定字段名称</span></div><div class="token-line"><span class="token plain">    df_user = pd.merge(df_user, df_frequency, on=&#x27;用户码&#x27;) #把消费频率整合至df_user结构</span></div><div class="token-line"><span class="token plain">    df_user.head() #显示头几行数据</span></div></pre></div><p>这段代码的核心就是通过给消费日期做count()计数，来求出每一个用户的消费次数。最后，我们得到的输出结果如下：</p><p><img src="data:image/png;base64,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" alt=""/></p><ol start="4"><li><strong>求出M值</strong></li></ol><p>M值很容易求出，它就是用户消费的总和：</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">df_revenue = df_sales.groupby(&#x27;用户码&#x27;).总价.sum().reset_index() #根据消费总额，构建df_revenue对象</span></div><div class="token-line"><span class="token plain">    df_revenue.columns = [&#x27;用户码&#x27;,&#x27;M值&#x27;] #设定字段名称</span></div><div class="token-line"><span class="token plain">    df_user = pd.merge(df_user, df_revenue, on=&#x27;用户码&#x27;) #把消费金额整合至df_user结构</span></div><div class="token-line"><span class="token plain">    df_user.head() #显示头几行数据</span></div></pre></div><p>这段代码的核心是通过给用户每张订单的总价字段做sum()计数，来求出每一个用户的消费总和。最后，输出如下：</p><p><img src="data:image/png;base64,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" alt=""/></p><p>到这里，我们就求出了每一个用户的R、F、M值。不过，这只是完成了特征工程环节，在下节课，我们要根据这三个维度的值给用户分组，这就需要聚类算法大显身手了。</p><h1 id="总结一下"><a aria-hidden="true" tabindex="-1" href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/01#总结一下"><span class="icon icon-link"></span></a>总结一下</h1><p>现在，我们来回顾一下这节课的重点。</p><p>我们这个项目的目标是为用户分组画像。要做分组画像，RFM分析是一个不错的方法，它也是目前很多互联网厂商普遍采用的分析方式。</p><p>我们今天的重点是，根据用户码、总价和消费日期这三个字段，从消费历史数据中求出每位用户的R、F、M的值，这就好像给用户贴上了一堆数字化的标签。同时，<strong>用户行为的量化，也可以视作是进一步做机器学习项目之前的特征工程</strong>。这也为我们后续给用户做聚类分组做好了准备。</p><p>理解RFM分析的精髓，并利用好RFM三个指标，是我们这个项目实战的核心价值所在。求出了RFM值，就恭喜你闯过了我们获客阶段的数据探索这一关。</p><p>虽然我把实战的具体过程讲得很细，但我更希望你理解的是**“数据处理之道”**， 而不是只学几个Python语句。Python语句都很简单，但是怎么灵活应用数据，是我们一开始就应该领悟的“道”，因为只有对思路的深入理解，才能让我们走得更高、更远。</p><h1 id="思考题"><a aria-hidden="true" tabindex="-1" href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/01#思考题"><span class="icon icon-link"></span></a>思考题</h1><p>好，这节课就到这里了，最后，我给你留个思考题：</p><p>RFM模型是衡量客户价值和客户创利能力的重要工具和手段，而且也被广泛应用在企业的获客、促销、客户关系管理等诸多营销、推广环节。请你谈一谈你对RFM的理解，以及这些指标可以应用于哪些业务场景。</p><p>欢迎你在留言区和我分享你的观点，如果你认为这节课的内容有收获，也欢迎把它分享给你的朋友，我们下一讲再见！</p><p><img src="/blog-other/static/httpsstatic001geekbangorgresourceimage8045800f834531ddbf7686054d0c4cce2445.cd7772c1.jpg" alt=""/></p></div><div class="__dumi-default-layout-footer-meta"><a target="_blank" rel="noopener noreferrer" href="https://github.com/GGwujun/blog/edit/master/ssrc/零基础实战机器学习/03.业务场景闯关篇/01.md">在 GitHub 上编辑此页<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><span data-updated-text="最后更新时间：">2023/9/23 21:58:31</span></div></div></div></div>
	<script>
  window.g_useSSR = true;
  window.g_initialProps = {};
	</script>

    <script>
      (function () {
        if (!location.port) {
          (function (i, s, o, g, r, a, m) {
            i["GoogleAnalyticsObject"] = r;
            (i[r] =
              i[r] ||
              function () {
                (i[r].q = i[r].q || []).push(arguments);
              }),
              (i[r].l = 1 * new Date());
            (a = s.createElement(o)), (m = s.getElementsByTagName(o)[0]);
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m);
          })(
            window,
            document,
            "script",
            "//www.google-analytics.com/analytics.js",
            "ga"
          );
          ga("create", "UA-149864185-1", "auto");
          ga("send", "pageview");
        }
      })();
    </script>
    <script src="/blog-other/umi.js"></script>
  </body>
</html>
