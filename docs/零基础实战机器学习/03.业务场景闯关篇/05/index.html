<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"
    />
    <link rel="shortcut icon" type="image/x-icon" href="/logo.png" />
    <link rel="stylesheet" href="/blog-other/umi.css" />
    <script>
      window.routerBase = "/blog-other";
    </script>
    <script>
      //! umi version: 3.5.41
    </script>
    <script>
      !(function () {
        var e =
            navigator.cookieEnabled && void 0 !== window.localStorage
              ? localStorage.getItem("dumi:prefers-color")
              : "auto",
          o = window.matchMedia("(prefers-color-scheme: dark)").matches,
          t = ["light", "dark", "auto"];
        document.documentElement.setAttribute(
          "data-prefers-color",
          e === t[2] ? (o ? t[1] : t[0]) : t.indexOf(e) > -1 ? e : t[0]
        );
      })();
    </script>
    <title>09｜模型优化（中）：防止过拟合，模型也不能太精细 - 大师兄</title>
  </head>
  <body>
    <div id="root"><div class="__dumi-default-layout" data-route="/零基础实战机器学习/03.业务场景闯关篇/05" data-show-sidemenu="true" data-show-slugs="true" data-site-mode="true" data-gapless="false"><div class="__dumi-default-navbar" data-mode="site"><button class="__dumi-default-navbar-toggle"></button><a class="__dumi-default-navbar-logo" style="background-image:url(&#x27;/logo.png&#x27;)" href="/blog-other/">大师兄</a><nav><div class="__dumi-default-search"><input type="search" class="__dumi-default-search-input" value=""/><ul></ul></div><span>前端开发<ul><li><a href="/blog-other/说透低代码">说透低代码</a></li><li><a href="/blog-other/反爬虫兵法演绎20讲">反爬虫兵法演绎20讲</a></li></ul></span><span>产品与用户体验<ul><li><a href="/blog-other/大厂广告产品心法">大厂广告产品心法</a></li></ul></span><span>面试<ul><li><a href="/blog-other/技术面试官识人手册">技术面试官识人手册</a></li><li><a href="/blog-other/面试现场">面试现场</a></li></ul></span><span>杂谈<ul><li><a href="/blog-other/乔新亮的cto成长复盘">乔新亮的cto成长复盘</a></li><li><a href="/blog-other/互联网人的英语私教课">互联网人的英语私教课</a></li><li><a href="/blog-other/从0开始学游戏开发">从0开始学游戏开发</a></li><li><a href="/blog-other/全栈工程师修炼指南">全栈工程师修炼指南</a></li><li><a href="/blog-other/手机摄影">手机摄影</a></li><li><a href="/blog-other/物联网开发实战">物联网开发实战</a></li><li><a href="/blog-other/白话法律42讲">白话法律42讲</a></li><li><a href="/blog-other/说透5g">说透5g</a></li><li><a href="/blog-other/超级访谈对话张雪峰">超级访谈对话张雪峰</a></li><li><a aria-current="page" class="active" href="/blog-other/零基础实战机器学习">零基础实战机器学习</a></li></ul></span><div class="__dumi-default-navbar-tool"><div class="__dumi-default-dark"><div class="__dumi-default-dark-switch "></div></div></div></nav></div><div class="__dumi-default-menu" data-mode="site"><div class="__dumi-default-menu-inner"><div class="__dumi-default-menu-header"><a class="__dumi-default-menu-logo" style="background-image:url(&#x27;/logo.png&#x27;)" href="/blog-other/"></a><h1>大师兄</h1><p></p></div><div class="__dumi-default-menu-mobile-area"><ul class="__dumi-default-menu-nav-list"><li>前端开发<ul><li><a href="/blog-other/说透低代码">说透低代码</a></li><li><a href="/blog-other/反爬虫兵法演绎20讲">反爬虫兵法演绎20讲</a></li></ul></li><li>产品与用户体验<ul><li><a href="/blog-other/大厂广告产品心法">大厂广告产品心法</a></li></ul></li><li>面试<ul><li><a href="/blog-other/技术面试官识人手册">技术面试官识人手册</a></li><li><a href="/blog-other/面试现场">面试现场</a></li></ul></li><li>杂谈<ul><li><a href="/blog-other/乔新亮的cto成长复盘">乔新亮的cto成长复盘</a></li><li><a href="/blog-other/互联网人的英语私教课">互联网人的英语私教课</a></li><li><a href="/blog-other/从0开始学游戏开发">从0开始学游戏开发</a></li><li><a href="/blog-other/全栈工程师修炼指南">全栈工程师修炼指南</a></li><li><a href="/blog-other/手机摄影">手机摄影</a></li><li><a href="/blog-other/物联网开发实战">物联网开发实战</a></li><li><a href="/blog-other/白话法律42讲">白话法律42讲</a></li><li><a href="/blog-other/说透5g">说透5g</a></li><li><a href="/blog-other/超级访谈对话张雪峰">超级访谈对话张雪峰</a></li><li><a aria-current="page" class="active" href="/blog-other/零基础实战机器学习">零基础实战机器学习</a></li></ul></li></ul><div class="__dumi-default-dark"><div class="__dumi-default-dark-switch "><button title="Dark theme" class="__dumi-default-dark-moon "><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3854" width="22" height="22"><path d="M991.816611 674.909091a69.166545 69.166545 0 0 0-51.665455-23.272727 70.795636 70.795636 0 0 0-27.438545 5.585454A415.674182 415.674182 0 0 1 754.993338 698.181818c-209.594182 0-393.472-184.785455-393.472-395.636363 0-52.363636 38.539636-119.621818 69.515637-173.614546 4.887273-8.610909 9.634909-16.756364 14.103272-24.901818A69.818182 69.818182 0 0 0 384.631156 0a70.842182 70.842182 0 0 0-27.438545 5.585455C161.678429 90.298182 14.362065 307.898182 14.362065 512c0 282.298182 238.824727 512 532.38691 512a522.286545 522.286545 0 0 0 453.957818-268.334545A69.818182 69.818182 0 0 0 991.816611 674.909091zM546.679156 954.181818c-248.785455 0-462.941091-192-462.941091-442.181818 0-186.647273 140.637091-372.829091 300.939637-442.181818-36.817455 65.629091-92.578909 151.970909-92.578909 232.727273 0 250.181818 214.109091 465.454545 462.917818 465.454545a488.331636 488.331636 0 0 0 185.181091-46.545455 453.003636 453.003636 0 0 1-393.565091 232.727273z m103.656728-669.323636l-14.266182 83.781818a34.909091 34.909091 0 0 0 50.362182 36.770909l74.775272-39.563636 74.752 39.563636a36.142545 36.142545 0 0 0 16.174546 3.956364 34.909091 34.909091 0 0 0 34.210909-40.727273l-14.289455-83.781818 60.509091-59.345455a35.025455 35.025455 0 0 0-19.223272-59.578182l-83.61891-12.101818-37.376-76.101818a34.56 34.56 0 0 0-62.254545 0l-37.376 76.101818-83.618909 12.101818a34.909091 34.909091 0 0 0-19.246546 59.578182z m70.423272-64.698182a34.280727 34.280727 0 0 0 26.135273-19.083636l14.312727-29.090909 14.336 29.090909a34.257455 34.257455 0 0 0 26.135273 19.083636l32.046546 4.887273-23.272728 22.574545a35.234909 35.234909 0 0 0-10.007272 30.952727l5.46909 32.116364-28.625454-15.127273a34.490182 34.490182 0 0 0-32.302546 0l-28.695272 15.127273 5.469091-32.116364a35.141818 35.141818 0 0 0-9.984-30.952727l-23.272728-22.574545z" p-id="3855"></path></svg></button><button title="Light theme" class="__dumi-default-dark-sun "><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4026" width="22" height="22"><path d="M915.2 476.16h-43.968c-24.704 0-44.736 16-44.736 35.84s20.032 35.904 44.736 35.904H915.2c24.768 0 44.8-16.064 44.8-35.904s-20.032-35.84-44.8-35.84zM512 265.6c-136.704 0-246.464 109.824-246.464 246.4 0 136.704 109.76 246.464 246.464 246.464S758.4 648.704 758.4 512c0-136.576-109.696-246.4-246.4-246.4z m0 425.6c-99.008 0-179.2-80.128-179.2-179.2 0-98.944 80.192-179.2 179.2-179.2S691.2 413.056 691.2 512c0 99.072-80.192 179.2-179.2 179.2zM197.44 512c0-19.84-19.136-35.84-43.904-35.84H108.8c-24.768 0-44.8 16-44.8 35.84s20.032 35.904 44.8 35.904h44.736c24.768 0 43.904-16.064 43.904-35.904zM512 198.464c19.776 0 35.84-20.032 35.84-44.8v-44.8C547.84 84.032 531.84 64 512 64s-35.904 20.032-35.904 44.8v44.8c0 24.768 16.128 44.864 35.904 44.864z m0 627.136c-19.776 0-35.904 20.032-35.904 44.8v44.736C476.096 940.032 492.16 960 512 960s35.84-20.032 35.84-44.8v-44.736c0-24.768-16.064-44.864-35.84-44.864z m329.92-592.832c17.472-17.536 20.288-43.072 6.4-57.024-14.016-14.016-39.488-11.2-57.024 6.336-4.736 4.864-26.496 26.496-31.36 31.36-17.472 17.472-20.288 43.008-6.336 57.024 13.952 14.016 39.488 11.2 57.024-6.336 4.8-4.864 26.496-26.56 31.296-31.36zM213.376 759.936c-4.864 4.8-26.56 26.624-31.36 31.36-17.472 17.472-20.288 42.944-6.4 56.96 14.016 13.952 39.552 11.2 57.024-6.336 4.8-4.736 26.56-26.496 31.36-31.36 17.472-17.472 20.288-43.008 6.336-56.96-14.016-13.952-39.552-11.072-56.96 6.336z m19.328-577.92c-17.536-17.536-43.008-20.352-57.024-6.336-14.08 14.016-11.136 39.488 6.336 57.024 4.864 4.864 26.496 26.56 31.36 31.424 17.536 17.408 43.008 20.288 56.96 6.336 14.016-14.016 11.264-39.488-6.336-57.024-4.736-4.864-26.496-26.56-31.296-31.424z m527.168 628.608c4.864 4.864 26.624 26.624 31.36 31.424 17.536 17.408 43.072 20.224 57.088 6.336 13.952-14.016 11.072-39.552-6.4-57.024-4.864-4.8-26.56-26.496-31.36-31.36-17.472-17.408-43.072-20.288-57.024-6.336-13.952 14.016-11.008 39.488 6.336 56.96z" p-id="4027"></path></svg></button><button title="Default to system" class="__dumi-default-dark-auto "><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="11002" width="22" height="22"><path d="M127.658667 492.885333c0-51.882667 10.24-101.717333 30.378666-149.162666s47.786667-88.064 81.92-122.538667 75.093333-61.781333 122.538667-81.92 96.938667-30.378667 149.162667-30.378667 101.717333 10.24 149.162666 30.378667 88.405333 47.786667 122.88 81.92 61.781333 75.093333 81.92 122.538667 30.378667 96.938667 30.378667 149.162666-10.24 101.717333-30.378667 149.162667-47.786667 88.405333-81.92 122.88-75.093333 61.781333-122.88 81.92-97.28 30.378667-149.162666 30.378667-101.717333-10.24-149.162667-30.378667-88.064-47.786667-122.538667-81.92-61.781333-75.093333-81.92-122.88-30.378667-96.938667-30.378666-149.162667z m329.045333 0c0 130.048 13.994667 244.394667 41.984 343.381334h12.970667c46.762667 0 91.136-9.216 133.461333-27.306667s78.848-42.666667 109.568-73.386667 54.954667-67.242667 73.386667-109.568 27.306667-86.698667 27.306666-133.461333c0-46.421333-9.216-90.794667-27.306666-133.12s-42.666667-78.848-73.386667-109.568-67.242667-54.954667-109.568-73.386667-86.698667-27.306667-133.461333-27.306666h-11.605334c-28.672 123.562667-43.349333 237.909333-43.349333 343.722666z" p-id="11003"></path></svg></button></div></div></div><ul class="__dumi-default-menu-list"><li><a href="/blog-other/零基础实战机器学习">零基础实战机器学习</a></li><li><a href="/blog-other/零基础实战机器学习/01.开篇词">01.开篇词</a><ul><li><a href="/blog-other/零基础实战机器学习/01.开篇词/01"><span>开篇词｜开发者为什么要从实战出发学机器学习？</span></a></li></ul></li><li><a href="/blog-other/零基础实战机器学习/02.准备篇">02.准备篇</a><ul><li><a href="/blog-other/零基础实战机器学习/02.准备篇/01"><span>01｜打好基础：到底什么是机器学习？</span></a></li><li><a href="/blog-other/零基础实战机器学习/02.准备篇/02"><span>02｜工具准备：安装并使用Jupyter Notebook</span></a></li><li><a href="/blog-other/零基础实战机器学习/02.准备篇/03"><span>03｜实战5步（上）：怎么定义问题和预处理数据？</span></a></li><li><a href="/blog-other/零基础实战机器学习/02.准备篇/04"><span>04｜ 实战5步（下）：怎么建立估计10万+软文点击率的模型？</span></a></li></ul></li><li><a aria-current="page" class="active" href="/blog-other/零基础实战机器学习/03.业务场景闯关篇">03.业务场景闯关篇</a><ul><li><a href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/01"><span>05 | 数据探索：怎样从数据中找到用户的RFM值？</span></a></li><li><a href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/02"><span>06 | 聚类分析：如何用RFM给电商用户做价值分组画像？</span></a></li><li><a href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/03"><span>07｜回归分析：怎样用模型预测用户的生命周期价值？</span></a></li><li><a href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/04"><span>08 | 模型优化（上）：怎么用特征工程提高模型效率？</span></a></li><li><a aria-current="page" class="active" href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/05"><span>09｜模型优化（中）：防止过拟合，模型也不能太精细</span></a></li><li><a href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/06"><span>10｜模型优化（下）：交叉验证，同时寻找最优的参数</span></a></li><li><a href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/07"><span>11｜深度学习（上）：用CNN带你认识深度学习</span></a></li><li><a href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/08"><span>12｜深度学习（中）：如何用RNN预测激活率走势？</span></a></li><li><a href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/09"><span>13｜深度学习（下）：3招提升神经网络预测准确率</span></a></li><li><a href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/10"><span>14｜留存分析：哪些因素会影响用户的留存率？</span></a></li><li><a href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/11"><span>15｜二元分类：怎么预测用户是否流失？从逻辑回归到深度学习</span></a></li><li><a href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/12"><span>16｜性能评估：不平衡数据集应该使用何种评估指标？</span></a></li><li><a href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/13"><span>17｜集成学习：机器学习模型如何“博采众长”?</span></a></li><li><a href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/14"><span>18 | 增长模型：用XGBoost评估裂变海报的最佳受众群体</span></a></li></ul></li><li><a href="/blog-other/零基础实战机器学习/04.持续赋能篇">04.持续赋能篇</a><ul><li><a href="/blog-other/零基础实战机器学习/04.持续赋能篇/01"><span>19 | 胸有成竹：如何快速定位合适的机器学习算法？</span></a></li><li><a href="/blog-other/零基础实战机器学习/04.持续赋能篇/02"><span>20 | 模型部署：怎么发布训练好的机器学习模型？</span></a></li><li><a href="/blog-other/零基础实战机器学习/04.持续赋能篇/03"><span>21｜持续精进：如何在机器学习领域中找准前进的方向？</span></a></li></ul></li><li><a href="/blog-other/零基础实战机器学习/05.结束语">05.结束语</a><ul><li><a href="/blog-other/零基础实战机器学习/05.结束语/01"><span>一套习题，测出你对机器学习的掌握程度</span></a></li><li><a href="/blog-other/零基础实战机器学习/05.结束语/02"><span>结束语 | 可以不完美，但重要的是马上开始</span></a></li></ul></li><li><a href="/blog-other/零基础实战机器学习/summary">零基础实战机器学习</a></li></ul></div></div><ul role="slug-list" class="__dumi-default-layout-toc"><li title="什么是过拟合" data-depth="2"><a href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/05#什么是过拟合"><span>什么是过拟合</span></a></li><li title="决策树模型的构造和剪枝" data-depth="2"><a href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/05#决策树模型的构造和剪枝"><span>决策树模型的构造和剪枝</span></a></li><li title="线性回归模型的正则化" data-depth="2"><a href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/05#线性回归模型的正则化"><span>线性回归模型的正则化</span></a></li><li title="总结一下" data-depth="2"><a href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/05#总结一下"><span>总结一下</span></a></li><li title="思考题" data-depth="2"><a href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/05#思考题"><span>思考题</span></a></li></ul><div class="__dumi-default-layout-content"><div class="markdown"><h1 id="09模型优化中防止过拟合模型也不能太精细"><a aria-hidden="true" tabindex="-1" href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/05#09模型优化中防止过拟合模型也不能太精细"><span class="icon icon-link"></span></a>09｜模型优化（中）：防止过拟合，模型也不能太精细</h1><p>你好，我是黄佳。欢迎来到零基础实战机器学习。</p><p>前几天，有个同学学完了<a target="_blank" rel="noopener noreferrer" href="https://time.geekbang.org/column/article/417479?cid=100085501">第7讲<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>关于怎样用回归模型预测用户的LTV后，就问我说，佳哥啊，我跟着你的思路绘制出了各种回归模型在训练集和验证集上的评分，并进行了比较，有个发现吓了我一跳，你看这个决策树模型，为什么在训练集上得了满分1.0，而在验证集上的得分却如此低呢？</p><p><img src="data:image/png;base64,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" alt=""/></p><p>我一看，果然如此。</p><p>我告诉他，这就是机器学习中十分著名的“过拟合”现象。可以说，我们用机器学习建模的过程，就是和过拟合现象持续作斗争的过程。那么，什么是过拟合？我们怎么防止模型出现过拟合的问题呢？当你学完了这一讲，自然就有了答案。</p><h2 id="什么是过拟合"><a aria-hidden="true" tabindex="-1" href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/05#什么是过拟合"><span class="icon icon-link"></span></a>什么是过拟合</h2><p>在我们解释概念前，请你先看一下某相亲平台给出的相亲结果的数据集示意图。</p><p><img src="/blog-other/static/httpsstatic001geekbangorgresourceimage800680029885fd5ca057ce70d5627c679006.24eb36a0.jpg" alt=""/></p><p>现在，我们假设你的机器学习模型根据这个数据集，给了你一个非常漂亮的函数。这个函数是：<strong>如果你不富也不帅，那么你在这个平台相亲就会失败；如果是其它任何一种情况，那你一定会成功</strong>。</p><p>你有没有感觉到哪里不对？其实，这个模型有一个很严重的问题，就是<strong>它过于准确了，犯了在训练集上过拟合的问题。</strong></p><p>下面这张图片是嘲讽过拟合现象的，很有意思。 最左边是一堆数据点，中间的模型试图在这些杂乱无章的数据点中挖掘出一些规律，而最右边的模型精准地穿越了每个数据点，最后画出了一只猫。</p><p><img src="/blog-other/static/httpsstatic001geekbangorgresourceimagedye4dyy20a82c4b8db4f428d1d6588b439e4.08f4d3b1.png" alt=""/></p><p>最右边这个模型，对于当前训练集的挖掘不可谓不精准，但是请你想一想，用这么精细的模型，去套另外一组数据，不大可能会套出另外一只猫，因此这个模型无法泛化到其它数据，它当然就是一个很失败的猫分类模型。</p><p>而且，你可别以为模型对训练集的预测达到百分之百准确，是一件多难的事。它其实并不难，只要模型足够复杂，训练集上的精度可以想多高就多高。比如我们常见的决策树模型，它对回归问题和分类问题，都能达到100%的预测或分类准确率。因为决策树的原理就是在训练集上持续优化分割边界，直到完全正确为止。所以，就像我们开头在图中看到的那样，它在训练集上$R^2$的分数能达到满分。</p><p>这对我们来说是一个非常失败的模型，因为我们不是要一个复杂的、在训练集上预测完全精准的模型，而是想要<strong>构建一个泛化能力尽可能高的模型</strong>。如果一个模型能够对它没见过且性质相似的数据做出准确预测，那我们就可以认为它具有不错的泛化能力，这个模型就是相对成功的。</p><p>那为什么模型会出现过拟合的状态呢？其实，这是因为机器和我们程序员一样，都有强迫症。模型在针对训练集的优化过程中不找到最小的误差点，它们是不会停的。我们说，过拟合是机器学习模型在训练数据集上，通过拟合函数形成的。在过拟合的形成过程中，一般会经历三个阶段：<strong>欠拟合、平衡点和过拟合。</strong></p><p>在初期的时候，模型对训练集的拟合还未完善，能力不够强， 偏差也比较大。此时的模型就处于欠拟合的状态，把模型应用于测试集数据，效果肯定也不好，所以还需要继续训练。</p><p>随着训练次数增多，以及模型自身的调整优化，模型的拟合能力变得越来越强，就差不多可以用了。此刻，实际上已经出现了欠拟合和过拟合之间的平衡点。</p><p>然而，如果训练继续进行，模型经过充分训练后，就会完全拟合训练集数据。如果把此时的模型应用于测试集，我们并不一定能得到好的效果，很容易出现很高的误差。这就是过拟合的状态。我们开头提到的决策树模型就明显处于这种状态。</p><p>这里我说明一下，对于过拟合的讨论，我们多限于监督学习的应用范围，也就是回归和分类两大类问题。当然，也有人认为无监督学习中也存在过拟合现象，但是无监督学习中的过拟合被讨论的不多。所以，我们重点来看看回归和分类问题中的过拟合。</p><p>对于回归问题来说，你可以通过下面的图理解过拟合：</p><p><img src="/blog-other/static/httpsstatic001geekbangorgresourceimage5537557e4ff908038d3d43e5653903e1ee37.621e37be.png" alt=""/></p><p>对于分类问题来说，你可以通过下面的图理解过拟合：</p><p><img src="/blog-other/static/httpsstatic001geekbangorgresourceimagefe7bfea2f60375fdabdb10070d0a21a6d57b.418a5ac1.png" alt=""/></p><p>那么，解决过拟合问题的方法都有哪些呢？这里有三个思路：</p><ol><li><p>一般来说，数据点少，模型很容易就能完全描绘出从特征到标签的映射。所以，增加数据集中数据的数量可以在一定程度上防止过拟合。</p></li><li><p>如果特征工程做得不好，数据集中的无用信息多，就会放大过拟合的影响，因为模型描绘出来的是无用信息和标签之间关系，当然泛化能力就受影响。所以，进行优质的特征工程，筛除无用的特征，去芜取精，去伪存真，有利于避免过拟合。</p></li><li><p>我们前面提到，模型比较复杂时，它在训练集上的精度可以想多高就多高，这是因为从数学的角度，多次函数的图像远远比一次、二次函数复杂。模型越复杂，所能够覆盖的特征空间就越大。所以，如果数据集较小，或者说问题比较简单，我们尽量选择简单的模型。凡事选择简单的解决方案，这个道理人称<strong>奥卡姆剃刀定理</strong>。</p></li></ol><p>因为数据集很难收集，特征工程又很考验机器学习工程师的水平，所以，防止过拟合的最佳策略就是要在模型的简单和复杂之间寻找一个平衡点。</p><p>不知道你还记不记得，在我们<a target="_blank" rel="noopener noreferrer" href="https://time.geekbang.org/column/article/417479?cid=100085501">第7讲<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>中用过的3个模型：决策树、线性回归和随机森林。相对而言决策树和线性回归模型比较容易出现过拟合问题，而随机森林则本身就可以基于决策树的过拟合问题实现优化，因此，下面我会带你看看怎么把决策树模型和线性回归模型简单化，来帮你进一步理解如何防止过拟合。</p><h2 id="决策树模型的构造和剪枝"><a aria-hidden="true" tabindex="-1" href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/05#决策树模型的构造和剪枝"><span class="icon icon-link"></span></a>决策树模型的构造和剪枝</h2><p>决策树这个算法的原理很好理解，它就是将一大堆的if…else 语句进行连接，直到最后得到想要的结果。算法中的各个节点是根据训练数据集中的特征形成的。在对特征节点的选择不同时，就可以生成很多不一样的决策树。</p><p>下图所示是一个相亲数据集和根据该数据集而形成的决策树。此处我们随机设定一个根节点——身高，作为我们决策的起点，从该点出发，根据数据集中的特征和标签值给树分叉。</p><p><img src="/blog-other/static/httpsstatic001geekbangorgresourceimage6f0d6ffc4542e07df7b2483973facf6ca00d.56cf2683.jpg" alt=""/></p><p><img src="/blog-other/static/httpsstatic001geekbangorgresourceimagea801a81ee237665c0e86ffc74171ef218901.6aae52b7.jpg" alt=""/></p><p>生成一个决策树有两个阶段，分别是构造和剪枝。</p><p>那么什么是构造呢？构造就是选择什么特征作为节点生成决策树的过程。在构造过程中，有三种节点：</p><ul><li><strong>根节点</strong>：就是树的最顶端节点。在上图中，“高不高”就是根节点；</li><li><strong>内部节点</strong>：就是树中间的那些节点，比如说“富不富”、“美不美”；</li><li><strong>叶节点</strong>：就是树最底部的节点，也就是决策结果“同意”或者“不同意”。</li></ul><p>在这些节点之间存在一种父子关系。比如根节点会有子节点，子节点还有子节点，到了叶节点就停止了，不再有子节点。在构造过程中，我们可以根据信息增益的程度来选择哪个属性作为根节点；哪些属性作为子节点；什么时候停止并得到目标状态，也就是叶节点。</p><p>那么什么是信息增益呢，就是数据集的熵和选定某个特征的条件熵之差，而熵就是对随机变量不确定性的度量，熵越大不确定性越大。我们应该选择熵比较小的特征作为根节点，来增加信息的增益。</p><p>如果我们在构造的过程中，选择不同的特征作为根节点，然后根节点下面选择不同的特征形成内部节点，就可以得到另外一棵决策树，也就是一个新的模型：</p><p><img src="/blog-other/static/httpsstatic001geekbangorgresourceimageef27ef65edb62c32a6a91fa82d90612eb927.48011ccb.jpg" alt=""/></p><p>由于if…else 可以无限制地写下去，对于任何训练集，只要树的深度足够，决策树肯定能够达到100% 的准确率。我们在前面讲过，这并不是一件好事，因为这样的模型认为其它所有数据的特点都和训练集中的数据完全一样的，所以它的泛化能力会很差。</p><p>对于这种情况，我们要在构造过程中对决策树进行剪枝，让树的深度不要太深，以免决策树太过于和精确。这样“模糊”一些的决策树，虽然在训练集上面的分数会降低，但是能够得到更强的泛化能力。</p><p>所以，针对具体数据集为模型选择适合的深度非常重要。下图所展示的就是一棵经过剪枝的决策树，剪枝之后树的深度从原来的3层变成了2层。</p><p><img src="/blog-other/static/httpsstatic001geekbangorgresourceimage7d737dd4786141dd59590f51fc595d690973.92247be0.jpg" alt=""/></p><p>那上面这个数据集实际上是在用决策树解决分类问题，用的是决策树分类模型。我们再来看看下面这个决策树回归模型，对某个数据集中数据点的拟合示意图，相信你更能明白为什么我说树太深，就会对训练数据集拟合的太准，随之而来的也就会出现过拟合的现象了。</p><p><img src="/blog-other/static/httpsstatic001geekbangorgresourceimage4ad74aed06404b4ccf8b5469a5d008fb50d7.901c7abc.png" alt=""/></p><p>在这张图中，绿色线是当决策树深度为5是的模型拟合状态，蓝色线是决策树深度为2时的模型拟合状态。很明显，经过深度为5的模型训练集损失小，但深度为2的模型，泛化能力会更好。</p><p>其实，决策树的深度是一个可调的超参数，也就是max_depth。这个超参数能限制树的最大深度，把超过设定深度的树枝全部剪掉，这也是最常见的剪枝策略。</p><p>那现在，我们就针对<a target="_blank" rel="noopener noreferrer" href="https://time.geekbang.org/column/article/417479?cid=100085501">第7讲<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>中LTV预测的问题，在这里创建两棵不同决策树模型：一棵是默认的决策树，这个决策树的深度不加限定，将一直分叉直到完全的拟合所有数据点；另一棵是深度为3的决策树。我们分别拟合两棵树，来比较一下它们在训练集和测试集上的分数。示例代码可以在<a target="_blank" rel="noopener noreferrer" href="https://github.com/huangjia2019/geektime/tree/main/%E5%8F%98%E7%8E%B0%E5%85%B309">这里<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>下载。</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">from sklearn.tree import DecisionTreeRegressor #导入决策树回归模型</span></div><div class="token-line"><span class="token plain">    model_dtr = DecisionTreeRegressor() #创建决策树回归模型</span></div><div class="token-line"><span class="token plain">    model_dtr_cut = DecisionTreeRegressor(max_depth=3) #创建深度为3的决策树回归模型</span></div><div class="token-line"><span class="token plain">    model_dtr.fit(X_train, y_train) #拟合决策树模型</span></div><div class="token-line"><span class="token plain">    model_dtr_cut.fit(X_train, y_train) #拟合深度为3的决策树模型</span></div><div class="token-line"><span class="token plain">    y_valid_preds_dtr = model_dtr.predict(X_valid) #用决策树模型预测验证集</span></div><div class="token-line"><span class="token plain">    y_valid_preds_dtr_cut = model_dtr_cut.predict(X_valid) #用深度为2的决策树模型预测验证集</span></div><div class="token-line"><span class="token plain">    from sklearn.metrics import r2_score,   median_absolute_error #导入Sklearn评估模块</span></div><div class="token-line"><span class="token plain">    print(&#x27;训练集上的R平方分数-决策树: %0.4f&#x27; % r2_score(y_train, model_dtr.predict(X_train)))</span></div><div class="token-line"><span class="token plain">    print(&#x27;训练集上的R平方分数-深度为3的决策树: %0.4f&#x27; % r2_score(y_train, model_dtr_cut.predict(X_train)))</span></div><div class="token-line"><span class="token plain">    print(&#x27;测试集上的R平方分数-决策树: %0.4f&#x27; % r2_score(y_valid, model_dtr.predict(X_valid)))</span></div><div class="token-line"><span class="token plain">    print(&#x27;测试集上的R平方分数-深度为3的决策树: %0.4f&#x27; % r2_score(y_valid, model_dtr_cut.predict(X_valid)))</span></div></pre></div><p>经过训练，并在训练集和测试集上进行评估之后，我们得到$R^2$分数输出如下：</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">训练集上的R平方分数-决策树: 1.0000</span></div><div class="token-line"><span class="token plain">    训练集上的R平方分数-深度为3的决策树: 0.8045</span></div><div class="token-line"><span class="token plain">    测试集上的R平方分数-决策树: 0.2857</span></div><div class="token-line"><span class="token plain">    测试集上的R平方分数-深度为3的决策树: 0.4870</span></div></pre></div><p>我们做成直方图，对比更清晰：</p><p><img src="data:image/png;base64,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" alt=""/></p><p>可以看到，未经剪枝的决策树在训练集上的分数是满分，但是在验证集上的得分低得十分离谱。而设定了深度的决策树（也就是剪枝），它的训练集上的分数有所下降，可在验证集上的分数是大幅提升的，体现出了更好的泛化能力。所以，我们这次的“剪枝”相当成功！</p><p>讲完了决策树的剪枝，我们再来看看怎么防止线性回归模型的过拟合现象。</p><h2 id="线性回归模型的正则化"><a aria-hidden="true" tabindex="-1" href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/05#线性回归模型的正则化"><span class="icon icon-link"></span></a>线性回归模型的正则化</h2><p>如果你回忆一下我们在<a target="_blank" rel="noopener noreferrer" href="https://time.geekbang.org/column/article/415149">第4讲<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>中讲过的线性回归的原理和公式，就会记起，线性回归模型，其实就是通过梯度下降确定参数的过程。如果数据集中有3个特征，公式就是：</p><p>$$y = w_<!-- -->{<!-- -->1<!-- -->}<!-- -->x_<!-- -->{<!-- -->1<!-- -->}<!-- --> + w_<!-- -->{<!-- -->2<!-- -->}<!-- -->x_<!-- -->{<!-- -->2<!-- -->}<!-- --> + w_<!-- -->{<!-- -->3<!-- -->}<!-- -->x_<!-- -->{<!-- -->3<!-- -->}<!-- --> + b$$</p><p>那么线性回归模型中的过拟合是如何产生的呢？如果在$x_<!-- -->{<!-- -->1<!-- -->}<!-- -->$、$x_<!-- -->{<!-- -->2<!-- -->}<!-- -->$、$x_<!-- -->{<!-- -->3<!-- -->}<!-- -->$这些特征中，有某个特征的值域较大，而如果模型拟合的结果中，其权重参数 w 的值也比较大，那么这个特征就会占据“主导”地位，使模型往这些较大值的位置偏移，形成了对这些值的“过拟合”。</p><p>那么，如果我们能让这类特征项的权重参数变小，也许就可以得到更为平衡的模型，来防止过拟合现象的出现。这种在一定程度上减小这些参数的值的方法，就是机器学习中的正则化（regularization）。具体来说，在损失函数当中加入的正则项也叫惩罚项，也就是给需要训练的函数加上一些规矩、一些限制，让它们不要自我膨胀。</p><p>线性回归的损失函数的正则项有两种添加方法，分别叫做L1正则项和L2正则项。</p><p>添加L1正则项之后，一些特征的权重会变小，一些绝对值较小的系数甚至直接变为0（相当于抛弃了一些特征），来增强模型的泛化能力。这种回归也叫Lasso回归。</p><p>添加L2正则项之后，模型在不抛弃任何一个特征的情况下，会缩小回归系数，也就是某些特征的权重，让模型相对稳定，通常模型的泛化能力也更好。这种回归也叫Rigde回归。</p><p>下面，我们就使用Sklearn包中的Lasso回归和Ridge回归模型，比较一下L1和L2正则化方法的是否会给我们的LTV预测带来更好的结果。创建模型、训练模型并评估模型的代码如下：</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">from sklearn.linear_model import LinearRegression #导入线性回归模型</span></div><div class="token-line"><span class="token plain">    from sklearn.linear_model import Lasso</span></div><div class="token-line"><span class="token plain">    from sklearn.linear_model import Ridge</span></div><div class="token-line"><span class="token plain">    model_lr = LinearRegression() #创建线性回归模型</span></div><div class="token-line"><span class="token plain">    model_lasso = Lasso() #创建Lasso回归模型</span></div><div class="token-line"><span class="token plain">    model_ridge = Ridge() #创建Ridge回归模型</span></div><div class="token-line"><span class="token plain">    model_lr.fit(X_train, y_train) #拟合线性回归模型</span></div><div class="token-line"><span class="token plain">    model_lasso.fit(X_train, y_train) #拟合Lasso回归模型</span></div><div class="token-line"><span class="token plain">    model_ridge.fit(X_train, y_train) #拟合Ridge回归模型</span></div><div class="token-line"><span class="token plain">    from sklearn.metrics import r2_score,   median_absolute_error #导入Sklearn评估模块</span></div><div class="token-line"><span class="token plain">    print(&#x27;训练集上的R平方分数-线性回归: %0.4f&#x27; % r2_score(y_train, model_lr.predict(X_train)))</span></div><div class="token-line"><span class="token plain">    print(&#x27;训练集上的R平方分数-Lasso回归: %0.4f&#x27; % r2_score(y_train, model_lasso.predict(X_train)))</span></div><div class="token-line"><span class="token plain">    print(&#x27;训练集上的R平方分数-Ridge回归: %0.4f&#x27; % r2_score(y_train, model_ridge.predict(X_train)))</span></div><div class="token-line"><span class="token plain">    print(&#x27;测试集上的R平方分数-线性回归: %0.4f&#x27; % r2_score(y_valid, model_lr.predict(X_valid)))</span></div><div class="token-line"><span class="token plain">    print(&#x27;测试集上的R平方分数-Lasso回归: %0.4f&#x27; % r2_score(y_valid, model_lasso.predict(X_valid)))</span></div><div class="token-line"><span class="token plain">    print(&#x27;测试集上的R平方分数-Ridge回归: %0.4f&#x27; % r2_score(y_valid, model_ridge.predict(X_valid)))</span></div></pre></div><p>分数输出如下：</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">训练集上的R平方分数-线性回归: 0.6732</span></div><div class="token-line"><span class="token plain">    训练集上的R平方分数-Lasso回归: 0.6731</span></div><div class="token-line"><span class="token plain">    训练集上的R平方分数-Ridge回归: 0.6354</span></div><div class="token-line"><span class="token plain">    测试集上的R平方分数-线性回归: 0.4719</span></div><div class="token-line"><span class="token plain">    测试集上的R平方分数-Lasso回归: 0.4737</span></div><div class="token-line"><span class="token plain">    测试集上的R平方分数-Ridge回归: 0.4992</span></div></pre></div><p>还是一样，我们用表格来呈现输出结果：</p><p><img src="data:image/png;base64,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" alt=""/></p><p>你会发现，从普通线性回归到Lasso回归，再到Ridge回归，训练集分数呈现下降的趋势，这就是防止过拟合的惩罚项发挥了作用；在测试集上，分数则正好相反，从普通线性回归和Lasso回归，再到Ridge回归，反而呈现略微升高的趋势。不过，整体来说，差异似乎不是很大，说明目前这个线性回归模型的过拟合现象其实并不明显。</p><p>好啦，线性回归正则化的内容到这里就讲完了。不过，我要提醒你一点，正则化可以应用于诸多模型中，比如以后我们要用到的逻辑回归中的C值，也是一个正则化相关的参数。</p><p>其实，我们前面对决策树进行剪枝，避免过拟合，也可以称得上是一种正则化，因为剪枝过程也是对模型进行约束，不让树任意生长。如果多棵经过剪枝的决策树集合而成随机森林模型，那么这个模型其实也是一种正则化了的模型。</p><h2 id="总结一下"><a aria-hidden="true" tabindex="-1" href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/05#总结一下"><span class="icon icon-link"></span></a>总结一下</h2><p>好，今天这一讲到这里就结束了。我们学到了机器学习中非常重要的一个概念，就是“过拟合”。过拟合就是指模型过度地适应了训练集，反而影响其泛化到测试集上的能力。理解过拟合很重要，可以说，我们在机器学习性能调优的过程中，就一直在和过拟合现象做斗争。</p><p>那要防止过拟合现象，也有多种方法，包括增加数据量、特征工程以及选择更简单的模型等。不过，因为数据收集很难，特征工程又很考验机器学习工程师的水平，所以，防止过拟合的最佳策略就是要通过正则化，让模型变得尽量简单。</p><p>此外，我还给你讲了两个具体的示例，第一个例子是对决策树模型进行剪枝，我们通过剪枝可以控制决策树生成时的深度，防止出现对于训练集数据点切分过于精准，导致模型无法泛化到训练集的问题；另外，我们还对线性回归模型进行了正则化，我们选择使用了L1和L2正则项的Lasso回归和Ridge回归，这两个模型通过引入惩罚项减少某些特征的权重值，从而避免过拟合，提升模型的性能。</p><h2 id="思考题"><a aria-hidden="true" tabindex="-1" href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/05#思考题"><span class="icon icon-link"></span></a>思考题</h2><p>这节课就到这里了，最后，我给你留两个思考题：</p><ol><li>在决策树的剪枝过程中，除了max_depth之外，还有min_samples_leaf、min_samples_split等超参数也可用于“剪枝”。其中，min_samples_leaf限定一个结点在分支后，每个子结点都必须包含至少N个训练样本，这个参数搭配max_depth使用，在回归树中会让模型变得更加平滑。而min_samples_split则用来限定一个结点必须要包含至少N个训练样本。那么请你告诉我，当min_samples_leaf和min_samples_split的值设置的太小，可能会发生什么；如果值设的太大，又可能会发生什么？</li></ol><p>提示：请你阅读sklearn中这些超参数和其它超参数的<a target="_blank" rel="noopener noreferrer" href="https://scikit-learn.org/stable/modules/generated/sklearn.tree.DecisionTreeRegressor.html#sklearn.tree.DecisionTreeRegressor">说明文档<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>，并尝试去使用它们。</p><ol start="2"><li>你在工作中曾经有过哪些避免过拟合的经验，可否在这里分享一下？</li></ol><p>欢迎你在留言区分享你的想法和收获，我在留言区等你。如果这节课帮到了你，也欢迎你把这节课分享给自己的朋友。我们下一讲再见！</p><p><img src="/blog-other/static/httpsstatic001geekbangorgresourceimage166116a837d23777a5e5435b42569b5cea61.722dd91c.jpg" alt=""/></p></div><div class="__dumi-default-layout-footer-meta"><a target="_blank" rel="noopener noreferrer" href="https://github.com/GGwujun/blog/edit/master/ssrc/零基础实战机器学习/03.业务场景闯关篇/05.md">在 GitHub 上编辑此页<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><span data-updated-text="最后更新时间：">2023/9/23 21:58:31</span></div></div></div></div>
	<script>
  window.g_useSSR = true;
  window.g_initialProps = {};
	</script>

    <script>
      (function () {
        if (!location.port) {
          (function (i, s, o, g, r, a, m) {
            i["GoogleAnalyticsObject"] = r;
            (i[r] =
              i[r] ||
              function () {
                (i[r].q = i[r].q || []).push(arguments);
              }),
              (i[r].l = 1 * new Date());
            (a = s.createElement(o)), (m = s.getElementsByTagName(o)[0]);
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m);
          })(
            window,
            document,
            "script",
            "//www.google-analytics.com/analytics.js",
            "ga"
          );
          ga("create", "UA-149864185-1", "auto");
          ga("send", "pageview");
        }
      })();
    </script>
    <script src="/blog-other/umi.js"></script>
  </body>
</html>
