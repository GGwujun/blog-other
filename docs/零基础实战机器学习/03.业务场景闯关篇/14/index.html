<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"
    />
    <link rel="shortcut icon" type="image/x-icon" href="/logo.png" />
    <link rel="stylesheet" href="/blog-other/umi.css" />
    <script>
      window.routerBase = "/blog-other";
    </script>
    <script>
      //! umi version: 3.5.41
    </script>
    <script>
      !(function () {
        var e =
            navigator.cookieEnabled && void 0 !== window.localStorage
              ? localStorage.getItem("dumi:prefers-color")
              : "auto",
          o = window.matchMedia("(prefers-color-scheme: dark)").matches,
          t = ["light", "dark", "auto"];
        document.documentElement.setAttribute(
          "data-prefers-color",
          e === t[2] ? (o ? t[1] : t[0]) : t.indexOf(e) > -1 ? e : t[0]
        );
      })();
    </script>
    <title>18 | 增长模型：用XGBoost评估裂变海报的最佳受众群体 - 大师兄</title>
  </head>
  <body>
    <div id="root"><div class="__dumi-default-layout" data-route="/零基础实战机器学习/03.业务场景闯关篇/14" data-show-sidemenu="true" data-show-slugs="true" data-site-mode="true" data-gapless="false"><div class="__dumi-default-navbar" data-mode="site"><button class="__dumi-default-navbar-toggle"></button><a class="__dumi-default-navbar-logo" style="background-image:url(&#x27;/logo.png&#x27;)" href="/blog-other/">大师兄</a><nav><div class="__dumi-default-search"><input type="search" class="__dumi-default-search-input" value=""/><ul></ul></div><span>前端开发<ul><li><a href="/blog-other/说透低代码">说透低代码</a></li><li><a href="/blog-other/反爬虫兵法演绎20讲">反爬虫兵法演绎20讲</a></li></ul></span><span>产品与用户体验<ul><li><a href="/blog-other/大厂广告产品心法">大厂广告产品心法</a></li></ul></span><span>面试<ul><li><a href="/blog-other/技术面试官识人手册">技术面试官识人手册</a></li><li><a href="/blog-other/面试现场">面试现场</a></li></ul></span><span>杂谈<ul><li><a href="/blog-other/乔新亮的cto成长复盘">乔新亮的cto成长复盘</a></li><li><a href="/blog-other/互联网人的英语私教课">互联网人的英语私教课</a></li><li><a href="/blog-other/从0开始学游戏开发">从0开始学游戏开发</a></li><li><a href="/blog-other/全栈工程师修炼指南">全栈工程师修炼指南</a></li><li><a href="/blog-other/手机摄影">手机摄影</a></li><li><a href="/blog-other/物联网开发实战">物联网开发实战</a></li><li><a href="/blog-other/白话法律42讲">白话法律42讲</a></li><li><a href="/blog-other/说透5g">说透5g</a></li><li><a href="/blog-other/超级访谈对话张雪峰">超级访谈对话张雪峰</a></li><li><a aria-current="page" class="active" href="/blog-other/零基础实战机器学习">零基础实战机器学习</a></li></ul></span><div class="__dumi-default-navbar-tool"><div class="__dumi-default-dark"><div class="__dumi-default-dark-switch "></div></div></div></nav></div><div class="__dumi-default-menu" data-mode="site"><div class="__dumi-default-menu-inner"><div class="__dumi-default-menu-header"><a class="__dumi-default-menu-logo" style="background-image:url(&#x27;/logo.png&#x27;)" href="/blog-other/"></a><h1>大师兄</h1><p></p></div><div class="__dumi-default-menu-mobile-area"><ul class="__dumi-default-menu-nav-list"><li>前端开发<ul><li><a href="/blog-other/说透低代码">说透低代码</a></li><li><a href="/blog-other/反爬虫兵法演绎20讲">反爬虫兵法演绎20讲</a></li></ul></li><li>产品与用户体验<ul><li><a href="/blog-other/大厂广告产品心法">大厂广告产品心法</a></li></ul></li><li>面试<ul><li><a href="/blog-other/技术面试官识人手册">技术面试官识人手册</a></li><li><a href="/blog-other/面试现场">面试现场</a></li></ul></li><li>杂谈<ul><li><a href="/blog-other/乔新亮的cto成长复盘">乔新亮的cto成长复盘</a></li><li><a href="/blog-other/互联网人的英语私教课">互联网人的英语私教课</a></li><li><a href="/blog-other/从0开始学游戏开发">从0开始学游戏开发</a></li><li><a href="/blog-other/全栈工程师修炼指南">全栈工程师修炼指南</a></li><li><a href="/blog-other/手机摄影">手机摄影</a></li><li><a href="/blog-other/物联网开发实战">物联网开发实战</a></li><li><a href="/blog-other/白话法律42讲">白话法律42讲</a></li><li><a href="/blog-other/说透5g">说透5g</a></li><li><a href="/blog-other/超级访谈对话张雪峰">超级访谈对话张雪峰</a></li><li><a aria-current="page" class="active" href="/blog-other/零基础实战机器学习">零基础实战机器学习</a></li></ul></li></ul><div class="__dumi-default-dark"><div class="__dumi-default-dark-switch "><button title="Dark theme" class="__dumi-default-dark-moon "><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3854" width="22" height="22"><path d="M991.816611 674.909091a69.166545 69.166545 0 0 0-51.665455-23.272727 70.795636 70.795636 0 0 0-27.438545 5.585454A415.674182 415.674182 0 0 1 754.993338 698.181818c-209.594182 0-393.472-184.785455-393.472-395.636363 0-52.363636 38.539636-119.621818 69.515637-173.614546 4.887273-8.610909 9.634909-16.756364 14.103272-24.901818A69.818182 69.818182 0 0 0 384.631156 0a70.842182 70.842182 0 0 0-27.438545 5.585455C161.678429 90.298182 14.362065 307.898182 14.362065 512c0 282.298182 238.824727 512 532.38691 512a522.286545 522.286545 0 0 0 453.957818-268.334545A69.818182 69.818182 0 0 0 991.816611 674.909091zM546.679156 954.181818c-248.785455 0-462.941091-192-462.941091-442.181818 0-186.647273 140.637091-372.829091 300.939637-442.181818-36.817455 65.629091-92.578909 151.970909-92.578909 232.727273 0 250.181818 214.109091 465.454545 462.917818 465.454545a488.331636 488.331636 0 0 0 185.181091-46.545455 453.003636 453.003636 0 0 1-393.565091 232.727273z m103.656728-669.323636l-14.266182 83.781818a34.909091 34.909091 0 0 0 50.362182 36.770909l74.775272-39.563636 74.752 39.563636a36.142545 36.142545 0 0 0 16.174546 3.956364 34.909091 34.909091 0 0 0 34.210909-40.727273l-14.289455-83.781818 60.509091-59.345455a35.025455 35.025455 0 0 0-19.223272-59.578182l-83.61891-12.101818-37.376-76.101818a34.56 34.56 0 0 0-62.254545 0l-37.376 76.101818-83.618909 12.101818a34.909091 34.909091 0 0 0-19.246546 59.578182z m70.423272-64.698182a34.280727 34.280727 0 0 0 26.135273-19.083636l14.312727-29.090909 14.336 29.090909a34.257455 34.257455 0 0 0 26.135273 19.083636l32.046546 4.887273-23.272728 22.574545a35.234909 35.234909 0 0 0-10.007272 30.952727l5.46909 32.116364-28.625454-15.127273a34.490182 34.490182 0 0 0-32.302546 0l-28.695272 15.127273 5.469091-32.116364a35.141818 35.141818 0 0 0-9.984-30.952727l-23.272728-22.574545z" p-id="3855"></path></svg></button><button title="Light theme" class="__dumi-default-dark-sun "><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4026" width="22" height="22"><path d="M915.2 476.16h-43.968c-24.704 0-44.736 16-44.736 35.84s20.032 35.904 44.736 35.904H915.2c24.768 0 44.8-16.064 44.8-35.904s-20.032-35.84-44.8-35.84zM512 265.6c-136.704 0-246.464 109.824-246.464 246.4 0 136.704 109.76 246.464 246.464 246.464S758.4 648.704 758.4 512c0-136.576-109.696-246.4-246.4-246.4z m0 425.6c-99.008 0-179.2-80.128-179.2-179.2 0-98.944 80.192-179.2 179.2-179.2S691.2 413.056 691.2 512c0 99.072-80.192 179.2-179.2 179.2zM197.44 512c0-19.84-19.136-35.84-43.904-35.84H108.8c-24.768 0-44.8 16-44.8 35.84s20.032 35.904 44.8 35.904h44.736c24.768 0 43.904-16.064 43.904-35.904zM512 198.464c19.776 0 35.84-20.032 35.84-44.8v-44.8C547.84 84.032 531.84 64 512 64s-35.904 20.032-35.904 44.8v44.8c0 24.768 16.128 44.864 35.904 44.864z m0 627.136c-19.776 0-35.904 20.032-35.904 44.8v44.736C476.096 940.032 492.16 960 512 960s35.84-20.032 35.84-44.8v-44.736c0-24.768-16.064-44.864-35.84-44.864z m329.92-592.832c17.472-17.536 20.288-43.072 6.4-57.024-14.016-14.016-39.488-11.2-57.024 6.336-4.736 4.864-26.496 26.496-31.36 31.36-17.472 17.472-20.288 43.008-6.336 57.024 13.952 14.016 39.488 11.2 57.024-6.336 4.8-4.864 26.496-26.56 31.296-31.36zM213.376 759.936c-4.864 4.8-26.56 26.624-31.36 31.36-17.472 17.472-20.288 42.944-6.4 56.96 14.016 13.952 39.552 11.2 57.024-6.336 4.8-4.736 26.56-26.496 31.36-31.36 17.472-17.472 20.288-43.008 6.336-56.96-14.016-13.952-39.552-11.072-56.96 6.336z m19.328-577.92c-17.536-17.536-43.008-20.352-57.024-6.336-14.08 14.016-11.136 39.488 6.336 57.024 4.864 4.864 26.496 26.56 31.36 31.424 17.536 17.408 43.008 20.288 56.96 6.336 14.016-14.016 11.264-39.488-6.336-57.024-4.736-4.864-26.496-26.56-31.296-31.424z m527.168 628.608c4.864 4.864 26.624 26.624 31.36 31.424 17.536 17.408 43.072 20.224 57.088 6.336 13.952-14.016 11.072-39.552-6.4-57.024-4.864-4.8-26.56-26.496-31.36-31.36-17.472-17.408-43.072-20.288-57.024-6.336-13.952 14.016-11.008 39.488 6.336 56.96z" p-id="4027"></path></svg></button><button title="Default to system" class="__dumi-default-dark-auto "><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="11002" width="22" height="22"><path d="M127.658667 492.885333c0-51.882667 10.24-101.717333 30.378666-149.162666s47.786667-88.064 81.92-122.538667 75.093333-61.781333 122.538667-81.92 96.938667-30.378667 149.162667-30.378667 101.717333 10.24 149.162666 30.378667 88.405333 47.786667 122.88 81.92 61.781333 75.093333 81.92 122.538667 30.378667 96.938667 30.378667 149.162666-10.24 101.717333-30.378667 149.162667-47.786667 88.405333-81.92 122.88-75.093333 61.781333-122.88 81.92-97.28 30.378667-149.162666 30.378667-101.717333-10.24-149.162667-30.378667-88.064-47.786667-122.538667-81.92-61.781333-75.093333-81.92-122.88-30.378667-96.938667-30.378666-149.162667z m329.045333 0c0 130.048 13.994667 244.394667 41.984 343.381334h12.970667c46.762667 0 91.136-9.216 133.461333-27.306667s78.848-42.666667 109.568-73.386667 54.954667-67.242667 73.386667-109.568 27.306667-86.698667 27.306666-133.461333c0-46.421333-9.216-90.794667-27.306666-133.12s-42.666667-78.848-73.386667-109.568-67.242667-54.954667-109.568-73.386667-86.698667-27.306667-133.461333-27.306666h-11.605334c-28.672 123.562667-43.349333 237.909333-43.349333 343.722666z" p-id="11003"></path></svg></button></div></div></div><ul class="__dumi-default-menu-list"><li><a href="/blog-other/零基础实战机器学习">零基础实战机器学习</a></li><li><a href="/blog-other/零基础实战机器学习/01.开篇词">01.开篇词</a><ul><li><a href="/blog-other/零基础实战机器学习/01.开篇词/01"><span>开篇词｜开发者为什么要从实战出发学机器学习？</span></a></li></ul></li><li><a href="/blog-other/零基础实战机器学习/02.准备篇">02.准备篇</a><ul><li><a href="/blog-other/零基础实战机器学习/02.准备篇/01"><span>01｜打好基础：到底什么是机器学习？</span></a></li><li><a href="/blog-other/零基础实战机器学习/02.准备篇/02"><span>02｜工具准备：安装并使用Jupyter Notebook</span></a></li><li><a href="/blog-other/零基础实战机器学习/02.准备篇/03"><span>03｜实战5步（上）：怎么定义问题和预处理数据？</span></a></li><li><a href="/blog-other/零基础实战机器学习/02.准备篇/04"><span>04｜ 实战5步（下）：怎么建立估计10万+软文点击率的模型？</span></a></li></ul></li><li><a aria-current="page" class="active" href="/blog-other/零基础实战机器学习/03.业务场景闯关篇">03.业务场景闯关篇</a><ul><li><a href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/01"><span>05 | 数据探索：怎样从数据中找到用户的RFM值？</span></a></li><li><a href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/02"><span>06 | 聚类分析：如何用RFM给电商用户做价值分组画像？</span></a></li><li><a href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/03"><span>07｜回归分析：怎样用模型预测用户的生命周期价值？</span></a></li><li><a href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/04"><span>08 | 模型优化（上）：怎么用特征工程提高模型效率？</span></a></li><li><a href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/05"><span>09｜模型优化（中）：防止过拟合，模型也不能太精细</span></a></li><li><a href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/06"><span>10｜模型优化（下）：交叉验证，同时寻找最优的参数</span></a></li><li><a href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/07"><span>11｜深度学习（上）：用CNN带你认识深度学习</span></a></li><li><a href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/08"><span>12｜深度学习（中）：如何用RNN预测激活率走势？</span></a></li><li><a href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/09"><span>13｜深度学习（下）：3招提升神经网络预测准确率</span></a></li><li><a href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/10"><span>14｜留存分析：哪些因素会影响用户的留存率？</span></a></li><li><a href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/11"><span>15｜二元分类：怎么预测用户是否流失？从逻辑回归到深度学习</span></a></li><li><a href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/12"><span>16｜性能评估：不平衡数据集应该使用何种评估指标？</span></a></li><li><a href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/13"><span>17｜集成学习：机器学习模型如何“博采众长”?</span></a></li><li><a aria-current="page" class="active" href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/14"><span>18 | 增长模型：用XGBoost评估裂变海报的最佳受众群体</span></a></li></ul></li><li><a href="/blog-other/零基础实战机器学习/04.持续赋能篇">04.持续赋能篇</a><ul><li><a href="/blog-other/零基础实战机器学习/04.持续赋能篇/01"><span>19 | 胸有成竹：如何快速定位合适的机器学习算法？</span></a></li><li><a href="/blog-other/零基础实战机器学习/04.持续赋能篇/02"><span>20 | 模型部署：怎么发布训练好的机器学习模型？</span></a></li><li><a href="/blog-other/零基础实战机器学习/04.持续赋能篇/03"><span>21｜持续精进：如何在机器学习领域中找准前进的方向？</span></a></li></ul></li><li><a href="/blog-other/零基础实战机器学习/05.结束语">05.结束语</a><ul><li><a href="/blog-other/零基础实战机器学习/05.结束语/01"><span>一套习题，测出你对机器学习的掌握程度</span></a></li><li><a href="/blog-other/零基础实战机器学习/05.结束语/02"><span>结束语 | 可以不完美，但重要的是马上开始</span></a></li></ul></li><li><a href="/blog-other/零基础实战机器学习/summary">零基础实战机器学习</a></li></ul></div></div><ul role="slug-list" class="__dumi-default-layout-toc"><li title="问题的定义和分析" data-depth="2"><a href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/14#问题的定义和分析"><span>问题的定义和分析</span></a></li><li title="增长模型" data-depth="2"><a href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/14#增长模型"><span>增长模型</span></a></li><li title="读入数据、预处理" data-depth="2"><a href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/14#读入数据预处理"><span>读入数据、预处理</span></a></li><li title="构建增长标签" data-depth="2"><a href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/14#构建增长标签"><span>构建增长标签</span></a></li><li title="选择算法训练模型" data-depth="2"><a href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/14#选择算法训练模型"><span>选择算法训练模型</span></a></li><li title="计算裂变增量" data-depth="2"><a href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/14#计算裂变增量"><span>计算裂变增量</span></a></li><li title="总结一下" data-depth="2"><a href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/14#总结一下"><span>总结一下</span></a></li><li title="思考题" data-depth="2"><a href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/14#思考题"><span>思考题</span></a></li></ul><div class="__dumi-default-layout-content"><div class="markdown"><h1 id="18--增长模型用xgboost评估裂变海报的最佳受众群体"><a aria-hidden="true" tabindex="-1" href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/14#18--增长模型用xgboost评估裂变海报的最佳受众群体"><span class="icon icon-link"></span></a>18 | 增长模型：用XGBoost评估裂变海报的最佳受众群体</h1><p>你好，我是黄佳。欢迎来到零基础实战机器学习。</p><p>上一讲中，我们通过多种集成学习方法，预测出了用户接收到某个裂变后是否会购买产品，这是二分类问题。这一讲中呢，我们继续研究裂变，不过，我们不再对用户是否转化进行预测，而是要评估裂变方案的最佳受众是谁。通过这一讲，我希望你能掌握一种解决运营问题的重要思路：增长模型。这个模型，常用于评估营销活动、推广海报对用户的订单增量的影响，国外的一些大厂也在使用它提升促销转化率。</p><p>这一讲内容有点小复杂，我们就开门见山，直接介绍运营部门面临的具体问题吧。</p><h2 id="问题的定义和分析"><a aria-hidden="true" tabindex="-1" href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/14#问题的定义和分析"><span class="icon icon-link"></span></a>问题的定义和分析</h2><p>运营团队为易速鲜花的用户设计了两张H5海报页面，对应着两种裂变方案，分别是“情侣花享”和“拼团盛放”。前者是类似于买一送一的促销，后者是用户生成专属海报拉朋友拼团，团越大折扣越大。</p><p>经过一段时间的试运营，运营团队收集到了下面这些数据给到我们，这个数据集你可以在<a target="_blank" rel="noopener noreferrer" href="https://github.com/huangjia2019/geektime/tree/main/%E8%A3%82%E5%8F%98%E5%85%B318">这里<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>下载。</p><p><img src="data:image/png;base64,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" alt=""/></p><p>可以看到，这个数据集不仅包含了两种裂变方案的用户转化数据（也就是购买与否），还包含了在没有任何促销活动情况下，用户的转化情况。</p><p>这其实是运营人员常用的A/B测试，就是在其它条件完全相同的情况下，系统随机给三分之一的用户显示“情侣花享”页，给另外三分之一的用户显示“拼团盛放”页，然后给剩下的三分之一用户显示没有促销的页面，以此来观察两种促销活动（裂变方案）的转化率增量。所以，这里的“裂变类型”字段就是指该用户接收到的促销页面，是系统随机分配的结果。</p><p>现在，运营团队想知道，这两种裂变方案的转化率增量是怎样的？也就是说，这两种裂变方案对一个用户“购买可能性”（购买概率）的增量分别是多少？</p><p>这可能不太好理解，我给你举个例子。就拿“情侣花享”这个方案来说，如果一个50多岁的女性用户平时没有买花的需求，也不是“情侣花享”的潜在用户。那她在收到这个促销活动页面后，就不会产生购买的念头，也就是说“购买可能性”不会发生变化，增量为0。那这时候我们也不用花精力对她做这样的促销了，因为这个方案在她身上不起作用。</p><p>同样的道理，如果一个用户正在犹豫：老婆即将过生日，要不要给买束鲜花呢？就在这时，啪！“情侣花享”的促销活动来了，那他很可能就当场下单了。这种情况，就是“情侣花享”方案增加了该用户的“购买可能性”，具体的增量是多少，需要机器学习模型来预测。</p><p>当然，也会有这样一种情况：假设有一个20岁左右、已经是3年会员的某男性用户，是我们的忠粉，他每个月都会给女友买花。对于这样的用户，即便我们不做任何促销，他也会购买产品。所以，我们做不做裂变推广、采用哪一种裂变方案，都对他的最终购买决策没有任何影响。因此，这时候，我们就希望机器学习模型可以判断出，该用户购买可能性的增量为0。那运营团队就不用花费力气把促销海报发给他，也不需要过多考虑他更喜欢哪种折扣方案。对吧？</p><p>到这里，你应该清楚这个问题的含义了，我们实际上就是要预测：在一个特定裂变促销的前后，一个用户“购买可能性”的增量是多少？并且，你可能已经发现了，我们其实就是要从中找到那些正在犹豫“要不要买”的摇摆者，只有这些人，才<strong>最值得</strong>把特定的裂变方案发给他。</p><p>那我们怎么解决这个问题呢？这就需要增长模型大显身手了。</p><h2 id="增长模型"><a aria-hidden="true" tabindex="-1" href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/14#增长模型"><span class="icon icon-link"></span></a>增长模型</h2><p>增长模型，英文是Uplift modelling或者incremental modelling，所以也翻译为提升建模、增量建模等，它多用于评估营销活动对用户的订单增量的影响。国外的互联网公司<a target="_blank" rel="noopener noreferrer" href="https://www.youtube.com/watch?v=2J9j7peWQgI">优步（Uber）<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>等，也在使用该模型进行数据分析，以增加用户的下单次数。 请你注意哈，这里的增长模型是解决我们今天的问题的一种思路，它并不是一种具体的机器学习算法。</p><p>在介绍具体的思路之前，我们首先来了解一下，针对某个特定的裂变推广方案，用户可能有多少种不同的反应。前面几个例子就展示了三种反应，其实，总体来看，一共会有4种结果，也就是说，一个用户在接到促销之后，做出的反应必然属于下面这四种情况之一：</p><p><img src="/blog-other/static/httpsstatic001geekbangorgresourceimage158f15f4a5cfa5036249e968809ccbf36d8f.7a4effee.png" alt=""/></p><p>根据不同的反应，我们可以把用户分为四个类型：</p><p><strong>第一类人是“完全不睬者”</strong>：这类人很容易理解，英文叫Lost Causes，他们对当前促销产品没有兴趣，不管你怎么打广告，给什么样的优惠，裂变玩出花来，他们也不会买这个产品。可以说是一毛不拔，所以，在做促销时我们可以把他们忘掉。上面第一个例子的用户就属于这个群体。</p><p><strong>第二类人是“促销响应者”</strong>：这类人是我们关注的重点，英文叫Persuadable。他们只有在收到我们的促销活动后，才会购买。这类人对价格和折扣非常敏感，要等有合适的活动才肯花钱。就比如去京东买书，一看，只有9折？折扣力度不大，那就等“618”或者“双11”吧，并且在离开网站之前，他们还可能在想买的商品中标注一个降价提醒。上面第二个例子中的用户，就是一个促销响应者。</p><p><strong>第三类人是“肯定会买者”</strong>：这类人代表我们的忠实用户，英文叫Sure Things。他们很满意当前产品，即便没有特别的促销活动也会购买。上面第三个例子中的用户，就属于这一类。</p><p><strong>第四类人是“别来烦我者”</strong>：这一类人比较奇怪，英文叫Do-Not-Disturb或Sleeping Dogs。这是一群收到促销反而不会购买的用户。他们内心的想法估计是：我最讨厌广告，你越想让我买，我就越不买！又或者是：你什么时候不来烦我，我再买。所以，你会惊讶地看到，这第四类人在有促销的时候不会购买，在无促销的时候反而会买。</p><p>**而增长模型的原理就是要尽可能地定位出“促销响应者”和“别来烦我者”，来进行促销活动。**从刚才的分析，我们可以知道，促销活动是A好还是B好，不是第一和第三类人说了算，而是第二和第四类人决定的。因为，促销活动会影响他们的决定。对于第二类人促销响应者，不打折他们就不会购买，所以促销活动就应该针对这个群体开展。与此同时，促销活动应该尽量避免发送到第四类人那里，因为促销会令他们反感。</p><p>不过，在实际项目中，我们是无法直接找出这四类人的。但我们可以通过“有没有收到裂变”和“是否转化”这两个字段，把整个用户做这样一个划分：裂变购买者、裂变未购买者、无裂变购买者和无裂变未购买者。请你注意，虽然我们在这里的划分，并不直接对应于上面讲的那“4类人”，但是它们二者之间还是有关联的：</p><ul><li>裂变购买者：包括“肯定会买者”和“促销响应者”；</li><li>裂变未购买者：包括“完全不睬者”和“别来烦我者”；</li><li>无裂变购买者：包括“肯定会买者”和“别来烦我者”；</li><li>无裂变未购买者：包括“完全不睬者”和“促销响应者”。</li></ul><p>然后，我们可以通过机器学习模型来定位，每一个用户落入上面这4种人（也就是4种可能情况）的概率。再通过下面这个增量公式（这个公式的说明我们一会儿再细讲）求出“促销响应”的概率增加和“别来烦我”的概率减少，就是裂变所带来的转化增量了，即：</p><p>$增量分数 =（裂变购买者+无裂变未购买者）-（裂变未购买者+无裂变购买者）$</p><p>因此，从整体上看，用增长模型解决我们这个项目问题的思路，可以分为两部分：首先是判断一个用户落入这4种分类的概率分别是多少；然后根据概率，通过增量公式来计算出一个用户在收到裂变页面前后的购买概率的增量。</p><p>那现在，我们就带着这个思路，进入这个项目的具体实战。</p><h2 id="读入数据预处理"><a aria-hidden="true" tabindex="-1" href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/14#读入数据预处理"><span class="icon icon-link"></span></a>读入数据、预处理</h2><p>还是一样，按照机器学习的步骤，我们先导入相关的包，并读入数据：</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">import pandas as pd #导入Pandas</span></div><div class="token-line"><span class="token plain">    import numpy as np #导入NumPy</span></div><div class="token-line"><span class="token plain">    df_fission = pd.read_csv(&#x27;易速鲜花增长模型.csv&#x27;) #载入数据</span></div><div class="token-line"><span class="token plain">    print(&#x27;用户数:&#x27;, df_fission.count()[&#x27;用户码&#x27;]) #查看数据条目数</span></div><div class="token-line"><span class="token plain">    df_fission.head() #显示头几行数据</span></div></pre></div><p>输出如下：</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAjsAAADBCAMAAAAenoE/AAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAHRUExURf//////xoQAAACCxgAAAABVpaWCAAAAUqXj///HhOf//4TH/+emUlKm5//jpVIAAP//56VVAITHxsaCAAAAhMb//1IAhKVVUsamUsb/xlIAUv/HpVJVAMb/51Kmxufj5wBVhMbHpeemhOf/xoSCUgCChKXjxv/jxoRVAFKmpefHhISmpaXj56WmUufjpYTH5+f/58bjpefj/9GmUqWmhFKCxoSm5wCCpYQAUsbj51JVUqXHpQBVUoSCAP/j54SCpcbHhIRVpcaCUoRVUlKChMampefHxlJVpaVVhKWCUvX19d6fT3+/9b59AAB9vk+f3vXan08Af7719U8AAABSn9719U9SnwAAf759T5/a9fW/f/X1vn8AAPX13p9ST5/a3p9SAAAAT38Af08AT09Sf9713p9SfwBSf39SAH99f76/f399T5+fT09ST0+fvr6/9d6/vr6/vr59f76fT771vn8AT099vr713n+fvr7a3k9SAE99f3+fn3+/3oQAhISChOfjxsaChFKCpcbHxlJVhKWmxgB9nwB9fwBST599AN7avt7a9U99n/Xavr7a9b7an3+/vp+ff5/avn9ST599T5+fvt7an96/f971vqWCpX+f3lUhu94AAAABYktHRACIBR1IAAAAB3RJTUUH5wkXCAUwUvYZnAAAAAFvck5UAc+id5oAABp8SURBVHja7V2LnxtFcpZWs9bKGkkrZhcwMT7nMGDMmwB2HJI4hmCfRy+8tsHaXbJ2wBg4wx2xTcLdmXtf7slx7+SvTVV190xrpkczXVqHg63v5/Vqpenu6uqvv6ru9c9VqwkEAoFAIBAIBAKBQCAQCAQCgUAgEAgEXy3Ulxr6exAEy/vgr6C5kn2oFSzvxyfayTth8lAr6Lh7DgPoudujB1vQtL7Urq322/A6RTvTZrWPb4U4nBqjFdyzpB+K1tahD/pkBt1713WfbTUsPOdCpN6PlveZGSdziBrkh9X7VtACxPL9awe0Z1ygSbdy5s/Hah8sWO3nZ+Dq3zzVfWBFOaJRM567Z6kTZtdIm42W709f4096qcwy4fihp+HGS0mv2sOthCrat8n3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" alt=""/></p><p>这个数据集中，共64000个数据样本，其中曾助力、曾拼团、曾推荐是该用户曾经参与过的活动的记录。而裂变类型字段就是随机分配给该用户的促销裂变页面。</p><p>下面，我们做一个简单的数据可视化，观察一下各用户群组对促销的转化率情况。</p><p>我们先来显示随机分配“情侣花享”、“拼团盛放&quot;和“没有促销”的用户人数，看看收到这三种页面的用户数量是不是和我们最开始说的一样，大致相等。因为我们要用同等数量的数据样本来比较转化效果的差异。</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">import matplotlib.pyplot as plt #导入pyplot模块</span></div><div class="token-line"><span class="token plain">       import seaborn as sns #导入Seaborn</span></div><div class="token-line"><span class="token plain">       fig = sns.countplot(&#x27;裂变类型&#x27;, data=df_fission) #创建柱状计数图</span></div><div class="token-line"><span class="token plain">    fig.set_xticklabels(fig.get_xticklabels(),rotation=25)   #X轴标签倾斜</span></div><div class="token-line"><span class="token plain">    fig.set_ylabel(&quot;数目&quot;) #Y轴标题</span></div><div class="token-line"><span class="token plain">    plt.show() #显示图像</span></div></pre></div><p>输出如下：</p><p><img src="data:image/png;base64,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" alt=""/></p><p>看来收到助力砍价、拼团狂买和无裂变页面的用户数是基本相同的，这和我们所期望的相符。</p><p>因为每一个用户是否成功转化都已记录在案，下面我们就来计算两种裂变方案带来的转化率，与无裂变情况下的转化相比，有没有提升，并显示出每一种情况下购买产品的用户所占的比例，也就是转化率的均值。</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">df_plot = df_fission.groupby(&#x27;裂变类型&#x27;).是否转化.mean().reset_index() #促销分组的转化率均值</span></div><div class="token-line"><span class="token plain">    plt.bar(df_plot[&#x27;裂变类型&#x27;],df_plot[&#x27;是否转化&#x27;]) #不同促销转化均值柱状图</span></div></pre></div><p>输出如下：</p><p><img src="data:image/png;base64,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" alt=""/></p><p>可以看出，“情侣花享”和“拼团盛放”这两种裂变模式，都能带来转化率的显著提升，但提升的效果是有差异的。</p><p>分析完数据后，我们接下来做特征工程，把原来的数据变为机器模型可读入的格式。这段代码是为机器学习模型创建哑变量，我们以前做过很多次，相信你已经很熟悉了。</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">df_dummies = df_fission.drop([&#x27;裂变类型&#x27;],axis=1) #在拆分哑变量前，先拿掉裂变类型</span></div><div class="token-line"><span class="token plain">    df_dummies = pd.get_dummies(df_dummies) #为分类变量拆分哑变量</span></div><div class="token-line"><span class="token plain">    df_dummies[&#x27;裂变类型&#x27;] = df_fission[&#x27;裂变类型&#x27;] #把裂变类型放回去</span></div><div class="token-line"><span class="token plain">    df_fission = df_dummies.copy() #把哑变量数据集复制给元数据集</span></div><div class="token-line"><span class="token plain">    df_fission.head() #显示数据</span></div></pre></div><p>输出如下：<br/><img src="data:image/png;base64,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" alt=""/></p><p>经过前面的分析我们知道，要想知道在一个特定的裂变方案，对一个用户“购买可能性”的影响有多大，就需要把该裂变方案与无裂变的情况做独立比较，才能得到该裂变方案带来的购买可能性的增量（转化增量）。所以，我们先聚焦于“情侣花享”这种裂变模式，通过下面的代码，找出&quot;情侣花享&quot;和“没有促销”这种两组用户的所有数据：</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">df_discount = df_fission.query(&quot;裂变类型 == &#x27;情侣花享&#x27; | 裂变类型 == &#x27;没有促销&#x27;&quot;) # 只看“情侣花享组”的裂变效果，先忽略“拼团盛放”组</span></div></pre></div><p>得到了这两组用户数据后，我们就可以开始构建这个数据集的标签了。</p><h2 id="构建增长标签"><a aria-hidden="true" tabindex="-1" href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/14#构建增长标签"><span class="icon icon-link"></span></a>构建增长标签</h2><p>我们前面分析到，要先把用户划分为四类：裂变购买者、裂变未购买者、无裂变购买者和无裂变未购买者。根据用户的一系列特征，判断一个用户落入这4种用户群组的概率分别是多少。所以，这4个用户群组就是我们的增长标签。我们用0，1，2，3来给每一类群组的标签编码：</p><ul><li>0代表裂变购买者；</li><li>1代表裂变未购买者；</li><li>2代表无裂变购买者；</li><li>3代表无裂变未购买者。</li></ul><p>然后，我们通过下面的代码，构建增长模型的标签：</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">df_discount.loc[(df_discount.裂变类型 == &#x27;情侣花享&#x27;) &amp; (df_discount.是否转化 == 1), &#x27;标签&#x27;] = 0 #有应答裂变组,裂变购买者</span></div><div class="token-line"><span class="token plain">    df_discount.loc[(df_discount.裂变类型 == &#x27;情侣花享&#x27;) &amp; (df_discount.是否转化 == 0), &#x27;标签&#x27;] = 1 #无应答裂变组,裂变未购买者</span></div><div class="token-line"><span class="token plain">    df_discount.loc[(df_discount.裂变类型 == &#x27;没有促销&#x27;) &amp;  (df_discount.是否转化 == 1), &#x27;标签&#x27;] = 2 #有应答控制组,无裂变购买者</span></div><div class="token-line"><span class="token plain">    df_discount.loc[(df_discount.裂变类型 == &#x27;没有促销&#x27;) &amp;  (df_discount.是否转化 == 0), &#x27;标签&#x27;] = 3 #无应答控制组,无裂变未购买者</span></div><div class="token-line"><span class="token plain">    df_discount.head()</span></div></pre></div><p>输出如下：<br/><img src="data:image/png;base64,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" alt=""/></p><p>有了分类标签之后，我们接下来就构建出特征集和标签集，并进行训练集和测试集地拆分：</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">X = df_discount.drop([&#x27;标签&#x27;,&#x27;是否转化&#x27;],axis=1) #特征集，Drop掉便签相关字段</span></div><div class="token-line"><span class="token plain">    y = df_discount.标签 #标签集</span></div><div class="token-line"><span class="token plain">    from sklearn.model_selection import train_test_split</span></div><div class="token-line"><span class="token plain">    X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, random_state=16)</span></div></pre></div><p>接着，我们进入算法选择环节。</p><h2 id="选择算法训练模型"><a aria-hidden="true" tabindex="-1" href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/14#选择算法训练模型"><span class="icon icon-link"></span></a>选择算法训练模型</h2><p>判断一个用户落入4种分类的概率分别是多少，这其实是一个典型的多类别分类问题。解决多类别分类问题的算法和二分类问题的算法完全相同，可以通过一系列传统机器学习算法或者深度学习神经网络算法来完成。这里我们就选择XGBoost算法。</p><p>我之所以会选择XGBoost算法求分类概率，是因为在<a target="_blank" rel="noopener noreferrer" href="https://time.geekbang.org/column/article/424305">上一讲<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>中，我们已经看到XGBoost算法作为一种集成学习方法，在分类问题中具有超强的性能。 XGBoost算法，可以说是目前最有名且最实用的集成学习算法了。</p><p>下面，我们就导入、创建并拟合xgboost模型：</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">import xgboost as xgb #导入xgboost模型</span></div><div class="token-line"><span class="token plain">    xgb_model = xgb.XGBClassifier() #创建xgboost模型</span></div><div class="token-line"><span class="token plain">    xgb_model.fit(X_train.drop([&#x27;用户码&#x27;,&#x27;裂变类型&#x27;], axis=1), y_train) #拟合xgboost模型</span></div></pre></div><p>模型训练成功之后，我们就可以计算出每一个用户落入4种分类标签的概率了。</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">uplift_probs = xgb_model.predict_proba(X_test.drop([&#x27;用户码&#x27;,&#x27;裂变类型&#x27;], axis=1)) #预测测试集用户的分类概率</span></div><div class="token-line"><span class="token plain">    uplift_probs #显示4种概率</span></div></pre></div><p>输出如下：</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">array([[0.00787458, 0.51820630, 0.04026253, 0.43365657],</span></div><div class="token-line"><span class="token plain">           [0.04618792, 0.46886584, 0.01700269, 0.46794358],</span></div><div class="token-line"><span class="token plain">           [0.06478575, 0.5077343 , 0.06103172, 0.36644822],</span></div><div class="token-line"><span class="token plain">           ...,</span></div><div class="token-line"><span class="token plain">           [0.11078195, 0.40745038, 0.06231715, 0.4194505 ],</span></div><div class="token-line"><span class="token plain">           [0.17259875, 0.38025224, 0.11393689, 0.33321217],</span></div><div class="token-line"><span class="token plain">           [0.06996422, 0.33474946, 0.03079985, 0.5644865 ]], dtype=float32)</span></div></pre></div><p>注意，这里我们并不需要用predict函数直接求得分类标签的值（0，1，2，3），因为这些值计算不出裂变增量，而是通过predict_proba，得到了测试集中每一个用户落入4种分类标签的概率数组。其中，哪个标签的概率大，就说明用户落入其中可能性大。</p><p>比如说，第三行数据[0.00787458，0.5182063 , 0.04026253，0.43365657]，这个4个概率分别代表裂变购买者、裂变未购买者、无裂变购买者和无裂变未购买者。也就是说，XGBoost模型预测这个用户有0.5182063的可能性成为裂变购买者，有0.00787458的可能性成为裂变未购买者，有0.04026253成为无裂变购买者，0.43365657成为无裂变未购买者。</p><p>下面，我们就进入了关键环节：计算特定裂变所带来的具体增量。</p><h2 id="计算裂变增量"><a aria-hidden="true" tabindex="-1" href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/14#计算裂变增量"><span class="icon icon-link"></span></a>计算裂变增量</h2><p>上面的机器学习模型已根据数据对每一个用户的购物特点作出预测。那么，对于每一种裂变方案，我们应该如何算出增量的大小呢？我们前面说可以用增量公式来计算：</p><p>$增量分数=（裂变购买者+无裂变未购买者）-（裂变未购买者+无裂变购买者）$</p><p>那么上面这个增量分数的计算公式是怎么推出来的呢？其实，原始的增量公式（Generalized Weighed Uplift）是这样的：</p><p>$增量分数 = \frac<!-- -->{<!-- -->P(TR)<!-- -->}<!-- -->{<!-- -->P(T)<!-- -->}<!-- --> + \frac<!-- -->{<!-- -->P(CN) <!-- -->}<!-- -->{<!-- --> P( C )<!-- -->}<!-- --> - \frac<!-- -->{<!-- -->P(TN)<!-- -->}<!-- -->{<!-- --> P(T) <!-- -->}<!-- -->- \frac<!-- -->{<!-- -->P(CR) <!-- -->}<!-- -->{<!-- -->P( C )<!-- -->}<!-- -->$</p><p>注意，增量分数就是指增量的大小，在这个公式中：</p><ul><li>TR，即treatment responsive，表示“有促销应答”，对应于“裂变购买者”；</li><li>TN，即treatment non-responsive，表示“无促销应答”，对应于“裂变未购买者”；</li><li>CR，即control responsive，表示“有控制应答”，对应于“无裂变购买者”；</li><li>CN，即control non-responsive，表示“无控制应答”，对应于“无裂变未购买者”。</li></ul><p>而公式里的 P 表示概率值，T 表示促销人群 (TR + TN)，C 表示无促销人群 (CR + CN)。关于这个原始的增量公式，如果你有兴趣想深入了解，可以看看<a target="_blank" rel="noopener noreferrer" href="http://arno.uvt.nl/show.cgi?fid=149632">这篇论文<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。</p><p>在这次实战的数据分配中，因为控制组和裂变组的人数是相等的，公式中的分母P(T) 和 P( C )都是一个定值，即50%。所以，这个公式也可以简化为：</p><p>$增量分数 = (P(TR) + P(CN)) - (P(TN) + P(CR))$</p><p>由于我们的目标是要定位“<strong>促销响应者</strong>”和“<strong>别来烦我者</strong>”这两种人，<strong>其实也就是想求出有裂变较之无裂变所带来的促销响应可能性的提升和别来烦我可能性的减少</strong>，所以，你可以这样理解上面的增量分数公式：</p><p>$增量分数 =（裂变购买者+无裂变未购买者）-（裂变未购买者+无裂变购买者）$</p><p>或者也可以写成：</p><p>$增量分数 = (促销响应可能性的提升) + (别来烦我可能性的减少)$</p><p>公式的前半部分(P(TR) + P(CN))就包含促销响应者，虽然也有肯定会买者和完全不睬者，但无需关注。后半部分P(TN) + P(CR)则代表着别来烦我者，所以要取负值，这类人越少越好，其中也有肯定会买者和完全不睬者，但也无需关注。</p><p>因此，根据上面的增量公式，就求出了每个用户裂变促销前后的“购买可能性”的增量。</p><p>下面的代码就求出了这种裂变为每一个用户带来的增量分数。</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">discount_uplift = X_test.copy() #构建增量分数数据集   </span></div><div class="token-line"><span class="token plain">    discount_uplift[&#x27;P_TR&#x27;] = uplift_probs[:,0] #添加有应答裂变概率</span></div><div class="token-line"><span class="token plain">    discount_uplift[&#x27;P_TN&#x27;] = uplift_probs[:,1] #添加无应答裂变概率</span></div><div class="token-line"><span class="token plain">    discount_uplift[&#x27;P_CR&#x27;] = uplift_probs[:,2] #添加有应答控制概率</span></div><div class="token-line"><span class="token plain">    discount_uplift[&#x27;P_CN&#x27;] = uplift_probs[:,3] #添加无应答控制概率</span></div><div class="token-line"><span class="token plain">    #计算增量分数</span></div><div class="token-line"><span class="token plain">    discount_uplift[&#x27;增量分数&#x27;] = discount_uplift.eval(&#x27;P_TR + P_CN - (P_TN + P_CR)&#x27;) </span></div><div class="token-line"><span class="token plain">    discount_uplift #显示增量分数</span></div></pre></div><p>输出如下：<br/><img src="/blog-other/static/httpsstatic001geekbangorgresourceimage4a5c4aef95531a55b4f25b0eaca3ef3de45c.3996a33c.png" alt=""/></p><p>这个分数，也就是用户从没有促销，到收到这个裂变方案的概率提升值。那么，这时我们如果按照相同的方法求出另外一中裂变方案的概率提升值，就能够比较出，对于一个特定的用户，哪种裂变形式，会更奏效！</p><p>而且，有了两种裂变方案针对于每一个用户的增量，我们还可以求出其均值。这个值就能用来比较两种裂变促销的效果优劣。也就是，整体上对于该App的用户来说，哪种裂变能够带来更多的增量。这样，我们今天的问题就得到了很好的解决。</p><h2 id="总结一下"><a aria-hidden="true" tabindex="-1" href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/14#总结一下"><span class="icon icon-link"></span></a>总结一下</h2><p>在这次实战中，我们解决了运营团队提出的，评估裂变方案适合哪类受众群体这个问题。这个解决方案的思路是通过比较两种裂变带来的转化率增长，同时看看各用户分组对裂变转化率造成的影响。</p><p>这个过程的核心，是根据机器学习模型来辅助判断每个用户是否适合推送当前裂变方案。首先调整数据集，只保留一种裂变类型（情侣花享）的用户组和无裂变用户组，并根据用户组别以及是否购买商品这两个字段，为数据集中的每一个用户构建出标签，分别是裂变购买者TR、裂变未购买者TN、无裂变购买者CR和无裂变未购买者CN。</p><p>然后，我们构建出机器学习的训练集和预测集，听过XGBoost算法创建机器学习模型，并根据训练集的特征和标签拟合模型。 拟合好的模型就可以在测试集上对其他用户进行预测，得出新用户落于上述四种情况的可能性，即P(TR)、P(TN)、P(CR)、P(CN)四个概率，并根据概率，计算裂变带来的增量。</p><p>这个过程，我们灵活的应用了机器学习模型预测多分类问题的概率的功能，完成了对裂变方案的评估。希望这个Case，能够启发你将机器学习模型应用到更多的业务运营场景中去。</p><h2 id="思考题"><a aria-hidden="true" tabindex="-1" href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/14#思考题"><span class="icon icon-link"></span></a>思考题</h2><p>我在这里给你留一个思考题。</p><p>我们在实战过程中，选择了“情侣花享”这种裂变形式，计算出引入该裂变之后的增量。请你继续选择“拼团盛放”这个裂变形式，完成类似的增量预测，然后比较一下两种裂变的增量均值，那个整体效果更好。</p><p>欢迎你在留言区和我分享你的观点，如果你认为这节课的内容有收获，也欢迎把它分享给你的朋友，我们下一讲再见！</p><p><img src="/blog-other/static/httpsstatic001geekbangorgresourceimagee3b4e384871f4e7af473yy3eda96c6ccc2b4.267a4958.jpg" alt=""/></p></div><div class="__dumi-default-layout-footer-meta"><a target="_blank" rel="noopener noreferrer" href="https://github.com/GGwujun/blog/edit/master/ssrc/零基础实战机器学习/03.业务场景闯关篇/14.md">在 GitHub 上编辑此页<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><span data-updated-text="最后更新时间：">2023/9/23 21:58:31</span></div></div></div></div>
	<script>
  window.g_useSSR = true;
  window.g_initialProps = {};
	</script>

    <script>
      (function () {
        if (!location.port) {
          (function (i, s, o, g, r, a, m) {
            i["GoogleAnalyticsObject"] = r;
            (i[r] =
              i[r] ||
              function () {
                (i[r].q = i[r].q || []).push(arguments);
              }),
              (i[r].l = 1 * new Date());
            (a = s.createElement(o)), (m = s.getElementsByTagName(o)[0]);
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m);
          })(
            window,
            document,
            "script",
            "//www.google-analytics.com/analytics.js",
            "ga"
          );
          ga("create", "UA-149864185-1", "auto");
          ga("send", "pageview");
        }
      })();
    </script>
    <script src="/blog-other/umi.js"></script>
  </body>
</html>
