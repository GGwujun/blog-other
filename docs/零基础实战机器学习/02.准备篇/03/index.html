<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"
    />
    <link rel="shortcut icon" type="image/x-icon" href="/logo.png" />
    <link rel="stylesheet" href="/blog-other/umi.css" />
    <script>
      window.routerBase = "/blog-other";
    </script>
    <script>
      //! umi version: 3.5.41
    </script>
    <script>
      !(function () {
        var e =
            navigator.cookieEnabled && void 0 !== window.localStorage
              ? localStorage.getItem("dumi:prefers-color")
              : "auto",
          o = window.matchMedia("(prefers-color-scheme: dark)").matches,
          t = ["light", "dark", "auto"];
        document.documentElement.setAttribute(
          "data-prefers-color",
          e === t[2] ? (o ? t[1] : t[0]) : t.indexOf(e) > -1 ? e : t[0]
        );
      })();
    </script>
    <title>03｜实战5步（上）：怎么定义问题和预处理数据？ - 大师兄</title>
  </head>
  <body>
    <div id="root"><div class="__dumi-default-layout" data-route="/零基础实战机器学习/02.准备篇/03" data-show-sidemenu="true" data-show-slugs="true" data-site-mode="true" data-gapless="false"><div class="__dumi-default-navbar" data-mode="site"><button class="__dumi-default-navbar-toggle"></button><a class="__dumi-default-navbar-logo" style="background-image:url(&#x27;/logo.png&#x27;)" href="/blog-other/">大师兄</a><nav><div class="__dumi-default-search"><input type="search" class="__dumi-default-search-input" value=""/><ul></ul></div><span>前端开发<ul><li><a href="/blog-other/说透低代码">说透低代码</a></li><li><a href="/blog-other/反爬虫兵法演绎20讲">反爬虫兵法演绎20讲</a></li></ul></span><span>产品与用户体验<ul><li><a href="/blog-other/大厂广告产品心法">大厂广告产品心法</a></li></ul></span><span>面试<ul><li><a href="/blog-other/技术面试官识人手册">技术面试官识人手册</a></li><li><a href="/blog-other/面试现场">面试现场</a></li></ul></span><span>杂谈<ul><li><a href="/blog-other/乔新亮的cto成长复盘">乔新亮的cto成长复盘</a></li><li><a href="/blog-other/互联网人的英语私教课">互联网人的英语私教课</a></li><li><a href="/blog-other/从0开始学游戏开发">从0开始学游戏开发</a></li><li><a href="/blog-other/全栈工程师修炼指南">全栈工程师修炼指南</a></li><li><a href="/blog-other/手机摄影">手机摄影</a></li><li><a href="/blog-other/物联网开发实战">物联网开发实战</a></li><li><a href="/blog-other/白话法律42讲">白话法律42讲</a></li><li><a href="/blog-other/说透5g">说透5g</a></li><li><a href="/blog-other/超级访谈对话张雪峰">超级访谈对话张雪峰</a></li><li><a aria-current="page" class="active" href="/blog-other/零基础实战机器学习">零基础实战机器学习</a></li></ul></span><div class="__dumi-default-navbar-tool"><div class="__dumi-default-dark"><div class="__dumi-default-dark-switch "></div></div></div></nav></div><div class="__dumi-default-menu" data-mode="site"><div class="__dumi-default-menu-inner"><div class="__dumi-default-menu-header"><a class="__dumi-default-menu-logo" style="background-image:url(&#x27;/logo.png&#x27;)" href="/blog-other/"></a><h1>大师兄</h1><p></p></div><div class="__dumi-default-menu-mobile-area"><ul class="__dumi-default-menu-nav-list"><li>前端开发<ul><li><a href="/blog-other/说透低代码">说透低代码</a></li><li><a href="/blog-other/反爬虫兵法演绎20讲">反爬虫兵法演绎20讲</a></li></ul></li><li>产品与用户体验<ul><li><a href="/blog-other/大厂广告产品心法">大厂广告产品心法</a></li></ul></li><li>面试<ul><li><a href="/blog-other/技术面试官识人手册">技术面试官识人手册</a></li><li><a href="/blog-other/面试现场">面试现场</a></li></ul></li><li>杂谈<ul><li><a href="/blog-other/乔新亮的cto成长复盘">乔新亮的cto成长复盘</a></li><li><a href="/blog-other/互联网人的英语私教课">互联网人的英语私教课</a></li><li><a href="/blog-other/从0开始学游戏开发">从0开始学游戏开发</a></li><li><a href="/blog-other/全栈工程师修炼指南">全栈工程师修炼指南</a></li><li><a href="/blog-other/手机摄影">手机摄影</a></li><li><a href="/blog-other/物联网开发实战">物联网开发实战</a></li><li><a href="/blog-other/白话法律42讲">白话法律42讲</a></li><li><a href="/blog-other/说透5g">说透5g</a></li><li><a href="/blog-other/超级访谈对话张雪峰">超级访谈对话张雪峰</a></li><li><a aria-current="page" class="active" href="/blog-other/零基础实战机器学习">零基础实战机器学习</a></li></ul></li></ul><div class="__dumi-default-dark"><div class="__dumi-default-dark-switch "><button title="Dark theme" class="__dumi-default-dark-moon "><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3854" width="22" height="22"><path d="M991.816611 674.909091a69.166545 69.166545 0 0 0-51.665455-23.272727 70.795636 70.795636 0 0 0-27.438545 5.585454A415.674182 415.674182 0 0 1 754.993338 698.181818c-209.594182 0-393.472-184.785455-393.472-395.636363 0-52.363636 38.539636-119.621818 69.515637-173.614546 4.887273-8.610909 9.634909-16.756364 14.103272-24.901818A69.818182 69.818182 0 0 0 384.631156 0a70.842182 70.842182 0 0 0-27.438545 5.585455C161.678429 90.298182 14.362065 307.898182 14.362065 512c0 282.298182 238.824727 512 532.38691 512a522.286545 522.286545 0 0 0 453.957818-268.334545A69.818182 69.818182 0 0 0 991.816611 674.909091zM546.679156 954.181818c-248.785455 0-462.941091-192-462.941091-442.181818 0-186.647273 140.637091-372.829091 300.939637-442.181818-36.817455 65.629091-92.578909 151.970909-92.578909 232.727273 0 250.181818 214.109091 465.454545 462.917818 465.454545a488.331636 488.331636 0 0 0 185.181091-46.545455 453.003636 453.003636 0 0 1-393.565091 232.727273z m103.656728-669.323636l-14.266182 83.781818a34.909091 34.909091 0 0 0 50.362182 36.770909l74.775272-39.563636 74.752 39.563636a36.142545 36.142545 0 0 0 16.174546 3.956364 34.909091 34.909091 0 0 0 34.210909-40.727273l-14.289455-83.781818 60.509091-59.345455a35.025455 35.025455 0 0 0-19.223272-59.578182l-83.61891-12.101818-37.376-76.101818a34.56 34.56 0 0 0-62.254545 0l-37.376 76.101818-83.618909 12.101818a34.909091 34.909091 0 0 0-19.246546 59.578182z m70.423272-64.698182a34.280727 34.280727 0 0 0 26.135273-19.083636l14.312727-29.090909 14.336 29.090909a34.257455 34.257455 0 0 0 26.135273 19.083636l32.046546 4.887273-23.272728 22.574545a35.234909 35.234909 0 0 0-10.007272 30.952727l5.46909 32.116364-28.625454-15.127273a34.490182 34.490182 0 0 0-32.302546 0l-28.695272 15.127273 5.469091-32.116364a35.141818 35.141818 0 0 0-9.984-30.952727l-23.272728-22.574545z" p-id="3855"></path></svg></button><button title="Light theme" class="__dumi-default-dark-sun "><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4026" width="22" height="22"><path d="M915.2 476.16h-43.968c-24.704 0-44.736 16-44.736 35.84s20.032 35.904 44.736 35.904H915.2c24.768 0 44.8-16.064 44.8-35.904s-20.032-35.84-44.8-35.84zM512 265.6c-136.704 0-246.464 109.824-246.464 246.4 0 136.704 109.76 246.464 246.464 246.464S758.4 648.704 758.4 512c0-136.576-109.696-246.4-246.4-246.4z m0 425.6c-99.008 0-179.2-80.128-179.2-179.2 0-98.944 80.192-179.2 179.2-179.2S691.2 413.056 691.2 512c0 99.072-80.192 179.2-179.2 179.2zM197.44 512c0-19.84-19.136-35.84-43.904-35.84H108.8c-24.768 0-44.8 16-44.8 35.84s20.032 35.904 44.8 35.904h44.736c24.768 0 43.904-16.064 43.904-35.904zM512 198.464c19.776 0 35.84-20.032 35.84-44.8v-44.8C547.84 84.032 531.84 64 512 64s-35.904 20.032-35.904 44.8v44.8c0 24.768 16.128 44.864 35.904 44.864z m0 627.136c-19.776 0-35.904 20.032-35.904 44.8v44.736C476.096 940.032 492.16 960 512 960s35.84-20.032 35.84-44.8v-44.736c0-24.768-16.064-44.864-35.84-44.864z m329.92-592.832c17.472-17.536 20.288-43.072 6.4-57.024-14.016-14.016-39.488-11.2-57.024 6.336-4.736 4.864-26.496 26.496-31.36 31.36-17.472 17.472-20.288 43.008-6.336 57.024 13.952 14.016 39.488 11.2 57.024-6.336 4.8-4.864 26.496-26.56 31.296-31.36zM213.376 759.936c-4.864 4.8-26.56 26.624-31.36 31.36-17.472 17.472-20.288 42.944-6.4 56.96 14.016 13.952 39.552 11.2 57.024-6.336 4.8-4.736 26.56-26.496 31.36-31.36 17.472-17.472 20.288-43.008 6.336-56.96-14.016-13.952-39.552-11.072-56.96 6.336z m19.328-577.92c-17.536-17.536-43.008-20.352-57.024-6.336-14.08 14.016-11.136 39.488 6.336 57.024 4.864 4.864 26.496 26.56 31.36 31.424 17.536 17.408 43.008 20.288 56.96 6.336 14.016-14.016 11.264-39.488-6.336-57.024-4.736-4.864-26.496-26.56-31.296-31.424z m527.168 628.608c4.864 4.864 26.624 26.624 31.36 31.424 17.536 17.408 43.072 20.224 57.088 6.336 13.952-14.016 11.072-39.552-6.4-57.024-4.864-4.8-26.56-26.496-31.36-31.36-17.472-17.408-43.072-20.288-57.024-6.336-13.952 14.016-11.008 39.488 6.336 56.96z" p-id="4027"></path></svg></button><button title="Default to system" class="__dumi-default-dark-auto "><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="11002" width="22" height="22"><path d="M127.658667 492.885333c0-51.882667 10.24-101.717333 30.378666-149.162666s47.786667-88.064 81.92-122.538667 75.093333-61.781333 122.538667-81.92 96.938667-30.378667 149.162667-30.378667 101.717333 10.24 149.162666 30.378667 88.405333 47.786667 122.88 81.92 61.781333 75.093333 81.92 122.538667 30.378667 96.938667 30.378667 149.162666-10.24 101.717333-30.378667 149.162667-47.786667 88.405333-81.92 122.88-75.093333 61.781333-122.88 81.92-97.28 30.378667-149.162666 30.378667-101.717333-10.24-149.162667-30.378667-88.064-47.786667-122.538667-81.92-61.781333-75.093333-81.92-122.88-30.378667-96.938667-30.378666-149.162667z m329.045333 0c0 130.048 13.994667 244.394667 41.984 343.381334h12.970667c46.762667 0 91.136-9.216 133.461333-27.306667s78.848-42.666667 109.568-73.386667 54.954667-67.242667 73.386667-109.568 27.306667-86.698667 27.306666-133.461333c0-46.421333-9.216-90.794667-27.306666-133.12s-42.666667-78.848-73.386667-109.568-67.242667-54.954667-109.568-73.386667-86.698667-27.306667-133.461333-27.306666h-11.605334c-28.672 123.562667-43.349333 237.909333-43.349333 343.722666z" p-id="11003"></path></svg></button></div></div></div><ul class="__dumi-default-menu-list"><li><a href="/blog-other/零基础实战机器学习">零基础实战机器学习</a></li><li><a href="/blog-other/零基础实战机器学习/01.开篇词">01.开篇词</a><ul><li><a href="/blog-other/零基础实战机器学习/01.开篇词/01"><span>开篇词｜开发者为什么要从实战出发学机器学习？</span></a></li></ul></li><li><a aria-current="page" class="active" href="/blog-other/零基础实战机器学习/02.准备篇">02.准备篇</a><ul><li><a href="/blog-other/零基础实战机器学习/02.准备篇/01"><span>01｜打好基础：到底什么是机器学习？</span></a></li><li><a href="/blog-other/零基础实战机器学习/02.准备篇/02"><span>02｜工具准备：安装并使用Jupyter Notebook</span></a></li><li><a aria-current="page" class="active" href="/blog-other/零基础实战机器学习/02.准备篇/03"><span>03｜实战5步（上）：怎么定义问题和预处理数据？</span></a></li><li><a href="/blog-other/零基础实战机器学习/02.准备篇/04"><span>04｜ 实战5步（下）：怎么建立估计10万+软文点击率的模型？</span></a></li></ul></li><li><a href="/blog-other/零基础实战机器学习/03.业务场景闯关篇">03.业务场景闯关篇</a><ul><li><a href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/01"><span>05 | 数据探索：怎样从数据中找到用户的RFM值？</span></a></li><li><a href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/02"><span>06 | 聚类分析：如何用RFM给电商用户做价值分组画像？</span></a></li><li><a href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/03"><span>07｜回归分析：怎样用模型预测用户的生命周期价值？</span></a></li><li><a href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/04"><span>08 | 模型优化（上）：怎么用特征工程提高模型效率？</span></a></li><li><a href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/05"><span>09｜模型优化（中）：防止过拟合，模型也不能太精细</span></a></li><li><a href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/06"><span>10｜模型优化（下）：交叉验证，同时寻找最优的参数</span></a></li><li><a href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/07"><span>11｜深度学习（上）：用CNN带你认识深度学习</span></a></li><li><a href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/08"><span>12｜深度学习（中）：如何用RNN预测激活率走势？</span></a></li><li><a href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/09"><span>13｜深度学习（下）：3招提升神经网络预测准确率</span></a></li><li><a href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/10"><span>14｜留存分析：哪些因素会影响用户的留存率？</span></a></li><li><a href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/11"><span>15｜二元分类：怎么预测用户是否流失？从逻辑回归到深度学习</span></a></li><li><a href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/12"><span>16｜性能评估：不平衡数据集应该使用何种评估指标？</span></a></li><li><a href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/13"><span>17｜集成学习：机器学习模型如何“博采众长”?</span></a></li><li><a href="/blog-other/零基础实战机器学习/03.业务场景闯关篇/14"><span>18 | 增长模型：用XGBoost评估裂变海报的最佳受众群体</span></a></li></ul></li><li><a href="/blog-other/零基础实战机器学习/04.持续赋能篇">04.持续赋能篇</a><ul><li><a href="/blog-other/零基础实战机器学习/04.持续赋能篇/01"><span>19 | 胸有成竹：如何快速定位合适的机器学习算法？</span></a></li><li><a href="/blog-other/零基础实战机器学习/04.持续赋能篇/02"><span>20 | 模型部署：怎么发布训练好的机器学习模型？</span></a></li><li><a href="/blog-other/零基础实战机器学习/04.持续赋能篇/03"><span>21｜持续精进：如何在机器学习领域中找准前进的方向？</span></a></li></ul></li><li><a href="/blog-other/零基础实战机器学习/05.结束语">05.结束语</a><ul><li><a href="/blog-other/零基础实战机器学习/05.结束语/01"><span>一套习题，测出你对机器学习的掌握程度</span></a></li><li><a href="/blog-other/零基础实战机器学习/05.结束语/02"><span>结束语 | 可以不完美，但重要的是马上开始</span></a></li></ul></li><li><a href="/blog-other/零基础实战机器学习/summary">零基础实战机器学习</a></li></ul></div></div><ul role="slug-list" class="__dumi-default-layout-toc"><li title="第1步 定义问题" data-depth="2"><a href="/blog-other/零基础实战机器学习/02.准备篇/03#第1步-定义问题"><span>第1步 定义问题</span></a></li><li title="第2步 收集数据和预处理" data-depth="2"><a href="/blog-other/零基础实战机器学习/02.准备篇/03#第2步-收集数据和预处理"><span>第2步 收集数据和预处理</span></a></li><li title="收集数据" data-depth="3"><a href="/blog-other/零基础实战机器学习/02.准备篇/03#收集数据"><span>收集数据</span></a></li><li title="数据可视化" data-depth="3"><a href="/blog-other/零基础实战机器学习/02.准备篇/03#数据可视化"><span>数据可视化</span></a></li><li title="数据清洗" data-depth="3"><a href="/blog-other/零基础实战机器学习/02.准备篇/03#数据清洗"><span>数据清洗</span></a></li><li title="特征工程" data-depth="3"><a href="/blog-other/零基础实战机器学习/02.准备篇/03#特征工程"><span>特征工程</span></a></li><li title="构建特征集和标签集" data-depth="3"><a href="/blog-other/零基础实战机器学习/02.准备篇/03#构建特征集和标签集"><span>构建特征集和标签集</span></a></li><li title="拆分训练集、验证集和测试集" data-depth="3"><a href="/blog-other/零基础实战机器学习/02.准备篇/03#拆分训练集验证集和测试集"><span>拆分训练集、验证集和测试集</span></a></li><li title="总结一下" data-depth="2"><a href="/blog-other/零基础实战机器学习/02.准备篇/03#总结一下"><span>总结一下</span></a></li><li title="思考题" data-depth="2"><a href="/blog-other/零基础实战机器学习/02.准备篇/03#思考题"><span>思考题</span></a></li></ul><div class="__dumi-default-layout-content"><div class="markdown"><h1 id="03实战5步上怎么定义问题和预处理数据"><a aria-hidden="true" tabindex="-1" href="/blog-other/零基础实战机器学习/02.准备篇/03#03实战5步上怎么定义问题和预处理数据"><span class="icon icon-link"></span></a>03｜实战5步（上）：怎么定义问题和预处理数据？</h1><p>你好，我是黄佳。</p><p>在<a target="_blank" rel="noopener noreferrer" href="https://time.geekbang.org/column/article/413057">《打好基础：到底什么是机器学习？》<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>中，我和你说了到底什么是机器学习，你还记得我们的结论吗？机器学习是一种从数据生成规则、发现模型，来帮助我们预测、判断、分析和解决问题的技术。现在，你是不是跃跃欲试，准备动手开跑机器学习程序了？</p><p>不要着急，在实战之前你还需要掌握最后一个知识点，也就是机器学习项目分为哪些步骤，你才好跟着一步步走。一个机器学习项目从开始到结束大致分为5步，分别是<strong>定义问题、收集数据和预处理、选择算法和确定模型、训练拟合模型、评估并优化模型性能</strong>。这5步是一个循环迭代的过程，你可以参考下面的图片：</p><p><img src="/blog-other/static/httpsstatic001geekbangorgresourceimage419a41ca9369d516198b33d736462fd8bd9a.55308d68.jpg" alt=""/></p><p>我们所有的项目都会按照这5步来做，我把它简称为实战5步。为了让你更深地理解这5步，在后面能更快地上手，我会带你做一个项目，我会给你清楚解释每一个步骤的目的和背后的原理。我会把这个项目分成两节课，今天我们先来一起搞定前两步，也就是<strong>定义问题和数据的预处理。</strong></p><p>好了，我们正式开始吧！</p><h2 id="第1步-定义问题"><a aria-hidden="true" tabindex="-1" href="/blog-other/零基础实战机器学习/02.准备篇/03#第1步-定义问题"><span class="icon icon-link"></span></a>第1步 定义问题</h2><p>我们先来看第一步，定义问题。在定义问题这个环节中，我们要剖析业务场景，设定清晰的目标，同时还要明确当前问题属于哪一种机器学习类型。如果不搞清楚这些，我们后面就无法选择模型了。</p><p>所以首先，我们先得来了解一下我们这个项目的业务场景。假设你已经入职了“易速鲜花”的运营部，正在对微信公众号推广文案的运营效率进行分析。你收集了大量的软文数据，包括点赞数、转发数和浏览量等等，就像下面这样：</p><p><img src="data:image/png;base64,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" alt=""/></p><p>因为微信公众号阅读量超过10万之后，就不能显示它的具体阅读量了。所以针对这个问题，我们项目的目标就是，建立一个机器学习模型，根据点赞数和转发数等指标，估计一篇文章能实现多大的浏览量。</p><p>因为要估计浏览量，所以在这个数据集中：点赞数、转发数、热度指数、文章评级，这4个字段都是特征，浏览量就是标签。这里我们已经有要估计的标签了，所以这是一个监督学习问题。再加上我们的标签是连续性的数值，因此它是一个回归问题。</p><p>不难看出，在这个数据集中，特征和标签之间明显呈现出一种相关性：点赞数、转发数多的时候，往往浏览量也多。但是，这种相关性可以通过哪个具体的函数来描绘呢？目前我们还不知道，所以我们在这个项目中的任务就是找到这个函数。</p><p>这样，我们就已经把问题定义好了，紧接着下一步就是数据收集和预处理。</p><h2 id="第2步-收集数据和预处理"><a aria-hidden="true" tabindex="-1" href="/blog-other/零基础实战机器学习/02.准备篇/03#第2步-收集数据和预处理"><span class="icon icon-link"></span></a>第2步 收集数据和预处理</h2><p>“数据的收集和预处理”在所有机器学习项目中都会出现，它的作用是为机器学习模型提供好的燃料。数据好，模型才跑得更带劲。这步骤看似只有一句话，其实里面包含了好几个小步骤，完整来讲有6步：</p><ul><li>收集数据；</li><li>数据可视化；</li><li>数据清洗；</li><li>特征工程；</li><li>构建特征集和标签集；</li><li>拆分训练集、验证集和测试集。</li></ul><p>你可能一眼看上去不太明白这6个步骤的意思。不要着急，接下来我会继续结合“易速鲜花”这个项目挨个解释的。</p><ol><li><h3 id="收集数据"><a aria-hidden="true" tabindex="-1" href="/blog-other/零基础实战机器学习/02.准备篇/03#收集数据"><span class="icon icon-link"></span></a>收集数据</h3></li></ol><p>首先是收集数据，这一步又叫采集数据。在我们的项目中，我已经把它做好了，你可以在<a target="_blank" rel="noopener noreferrer" href="https://github.com/huangjia2019/geektime/tree/main/%E5%87%86%E5%A4%87%E7%AF%8703">这里<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>下载现成的数据集。</p><p>不过，在现实中，收集数据通常很辛苦，要在运营环节做很多数据埋点、获取用户消费等行为信息和兴趣偏好信息，有时候还需要上网爬取数据。收集数据不是我们的课程重点，你有兴趣的话我向你推荐陈旸老师的<a target="_blank" rel="noopener noreferrer" href="https://time.geekbang.org/column/intro/147">《数据分析实战45讲》<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>，里面有很多收集数据的方法。</p><p>有了数据集，接下来我们要做的是数据可视化的工作，也就是通过可视化去观察一下数据，为选择具体的机器学习模型找找感觉。</p><ol start="2"><li><h3 id="数据可视化"><a aria-hidden="true" tabindex="-1" href="/blog-other/零基础实战机器学习/02.准备篇/03#数据可视化"><span class="icon icon-link"></span></a>数据可视化</h3></li></ol><p>数据可视化是个万金油技能，能做的事非常多。比如说，可以看一看特征和标签之间可能存在的关系，也可以看看数据里有没有“脏数据”和“离群点”等。</p><p>不过在正式可视化之前，我们需要把收集到的数据导入运行环境。数据导入我们需要用到Pandas数据处理工具包。这个包可是操作数据的利器，我们未来每个项目中都会用到。现在我们用import语句导入它：</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">import pandas as pd # 导入Pandas数据处理工具包</span></div></pre></div><p>然后，我们通过下面的代码把这个项目的数据集读入到Python运行环境，用DataFrame的形式呈现出来：</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">df_ads = pd.read_csv(&#x27;易速鲜花微信软文.csv&#x27;) # 读入数据</span></div><div class="token-line"><span class="token plain">    df_ads.head() # 显示前几行数据</span></div></pre></div><p>DataFrame是机器学习中常见的二维表格类型数据结构。在上面的代码中，我用read_csv API把CSV格式的数据文件，读入到Pandas的DataFrame中，把它命名为了df_ads。这段代码输出如下：</p><p><img src="data:image/png;base64,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" alt=""/></p><p>这样就完成了数据的导入了，接着我们就可以正式进入“可视化”了。根据经验，我们猜测“点赞数”最有可能和“浏览量”之间存在线性关系。那是不是真的这样呢？我们可以画出图来验证一下。</p><p>在这个“验证”环节中，我们需要用到两个包：一个是Python画图工具库“Matplotlib ”，另一个是统计学数据可视化工具库“Seaborn”。这两个包都是Python数据可视化的必备工具包，它们是Anaconda默认安装包的一部分，不需要pip install语句重复安装。</p><p>在导入这两个包时，我们依旧用import语句。请你注意，为了节省代码量，我并没有导入完整的matplotlib包，而是只导入了matplotlib包中的绘图模块pyplot：</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">#导入数据可视化所需要的库</span></div><div class="token-line"><span class="token plain">    import matplotlib.pyplot as plt # Matplotlib – Python画图工具库</span></div><div class="token-line"><span class="token plain">    import seaborn as sns # Seaborn – 统计学数据可视化工具库</span></div></pre></div><p>因为线性关系可以简单地用散点图来验证一下。所以下面我们用matplotlib包中的plot API，绘制出“点赞数”和“浏览量”之间的散点图，看看它们的分布状态。</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">plt.plot(df_ads[&#x27;点赞数&#x27;],df_ads[&#x27;浏览量&#x27;],&#x27;r.&#x27;, label=&#x27;Training data&#x27;) # 用matplotlib.pyplot的plot方法显示散点图</span></div><div class="token-line"><span class="token plain">    plt.xlabel(&#x27;点赞数&#x27;) # x轴Label</span></div><div class="token-line"><span class="token plain">    plt.ylabel(&#x27;浏览量&#x27;) # y轴Label</span></div><div class="token-line"><span class="token plain">    plt.legend() # 显示图例</span></div><div class="token-line"><span class="token plain">    plt.show() # 显示绘图结果！</span></div></pre></div><p>输出的结果如下图所示：</p><p><img src="/blog-other/static/httpsstatic001geekbangorgresourceimage247d24e97d5a919c0e03b924270233a3b67d.99d4cbae.png" alt=""/></p><p>从这张图中我们可以看出来，这些数据基本上集中在一条线附近，所以它的标签和特征之间，好像真的存在着线性的关系，这可以为我们将来选模型提供参考信息。</p><p>接下来，我要用Seaborn的boxplot工具画个箱线图。来看看这个数据集里有没有“离群点”。我这里随便选择了热度指数这个特征，你也可以为其它特征试试绘制箱线图。</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">data = pd.concat([df_ads[&#x27;浏览量&#x27;], df_ads[&#x27;热度指数&#x27;]], axis=1) # 浏览量和热度指数</span></div><div class="token-line"><span class="token plain">    fig = sns.boxplot(x=&#x27;热度指数&#x27;, y=&quot;浏览量&quot;, data=data) # 用seaborn的箱线图画图</span></div><div class="token-line"><span class="token plain">    fig.axis(ymin=0, ymax=800000); #设定y轴坐标</span></div></pre></div><p>下图就是我们输出的箱线图：</p><p><img src="data:image/png;base64,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" alt=""/></p><p>箱线图是由五个数值点组成，分别是最小值(min)、下四分位数(Q1)、中位数(median)、上四分位数(Q3)和最大值(max)。在统计学上，这叫做五数概括。这五个数值可以清楚地为我们展示数据的分布和离散程度。</p><p>这个图中下四分位数、中位数、上四分位数组成一个“带有隔间的盒子”，就是所谓的箱；上四分位数到最大值之间建立一条延伸线，就是所谓的线，也叫“胡须”；胡须的两极就是最小值与最大值；此外，箱线图还会将离群的数据点单独绘出。</p><p>在上面这个箱线图中，我们不难发现，热度指数越高，浏览量的中位数越大。我们还可以看到，有一些离群的数据点，比其它的文章浏览量大了很多，这些“离群点”就是我们说的“爆款文章”了。</p><p>到这里，数据可视化工作算是基本完成了。在数据可视化之后，下一步就是数据的清洗。</p><ol start="3"><li><h3 id="数据清洗"><a aria-hidden="true" tabindex="-1" href="/blog-other/零基础实战机器学习/02.准备篇/03#数据清洗"><span class="icon icon-link"></span></a>数据清洗</h3></li></ol><p>很多人都把数据清洗比作“炒菜”前的“洗菜”，也就是说数据越干净，模型的效果也就越好。清洗的数据一般分为4种情况：</p><p>第一种是处理缺失的数据。如果备份系统里面有缺了的数据，那我们尽量补录；如果没有，我们可以剔除掉残缺的数据，也可以用其他数据记录的平均值、随机值或者0值来补值。这个补值的过程叫数据修复。</p><p>第二个是处理重复的数据：如果是完全相同的重复数据处理，删掉就行了。可如果同一个主键出现两行不同的数据，比如同一个身份证号后面有两条不同的地址，我们就要看看有没有其他辅助的信息可以帮助我们判断（如时戳），要是无法判断的话，只能随机删除或者全部保留。</p><p>第三个是处理错误的数据：比如商品的销售量、销售金额出现负值，这时候就需要删除或者转成有意义的正值。再比如表示百分比或概率的字段，如果值大于1，也属于逻辑错误数据。</p><p>第四个是处理不可用的数据：这指的是整理数据的格式，比如有些商品以人民币为单位，有些以美元为单位，就需要先统一。另一个常见例子是把“是”、“否”转换成“1”、“0”值再输入机器学习模型。</p><p>那么如何看数据集中有没有脏数据呢？</p><p>就我们这个项目的数据集来说，细心的你可能在DataFrame图中已经发现，行索引为6的数据中“转发数”的值是“NaN”，意思是Not A Number。在Python中，它代表无法表示、也无法处理的值。这是典型的脏数据。</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASYAAAEdCAMAAACWpzqGAAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAFuUExURf/////jpVIAAFKm5///xoQAUqXHpVIAUqXj/8aCAFKmxqVVAP/HhABVpefHhAAAUqXjxuemUoQAAAAAAITH/wCCxgAAhMb//+f/5+f/////5+fjpVKmpaWmhISCUqXj58amUuemhKWCAABVhIRVAP/j54SCAMb/5wCCpYTHxgCChMb/xqWCUoQAhMbHhOfj54SmpQBVUlJVAMbj/4SChFJVpYSCxqWmUsamhFKm0aVVhMampVKCxuf/xqWmpYRVUlIAhOfHxsbHpYRVpefj/8bH56XKpcaCUv/jxoTH54Sm5/X19fW/fwBSn9719b59AAAAf7719fXan08AAAB9vvX1vn8AAAAAT5/a9U+f3n+/9d6fT08AT/X13p9SAJ9ST38Af399AE9Sn38ATwB9f08Af099f0+fnwB9n5/avr7an7713lKChMbjpb6fT3+/vp+ff97an6VVUn99T971vr71vt713p+/n399f1JVUgEeHZsAAAABYktHRACIBR1IAAAAB3RJTUUH5wkXBwMCxyeopwAAAAFvck5UAc+id5oAABWySURBVHja7Z2LdxvHdcYXAGVzzYXg5WJJC7Idx3IT2YnTJHWSpq1bpUmfAAWJAimRqOU4ttomddrETV//fec+ZmYfM7vDHehhnfudViYXOzN3vrkzuyc8P9wkEYlEItFLq9F4gv/du/bKq/tJ+tqB+jWbXp+9fm0/n+03bt47hJuzYq7+VZ/uHZZJdnScJOkknV6fvnEwvVG/f3FQqhvhDt2eflb9YFd7h9MbvragtBJBjqOqgF/dzwqU6iuf3hzDj61I1f1zuBU6gZ5VzBAtTphau9p02YRtJjj0m4fY/Oa1t2Zvz77Rjnw0ZoNg9KNj8Oud8fTG4pvTd2+9pyKetPu+9R50DG4VhYkPbYIf53/0hqctW0NXU9O2VNcgLIoBbM5m+4sDuxJ2RcjKb5XKprRUoeY0ts6L/Io2TWjdJ7BMR9+GbMKoZm/x/KzQytsH8K9afhN68T6GNH0XJ97OJnUvJRXkFWQR9PMBJebRdzxtzaLjsi8O1D+jMa5bfuu7M8h0/L/XP/xeMR+Ny/bE/hj9LVNt0/fHkxRGGJBNZpUmtNg/GNMvWQFLNNvPGl1h/i50llWiS9USwyzSegKiTamyaQKr98NCbxbwisa+9Se+ttw97LvMrghaqbaPMuiwhP8WH8FOmLemlhXTmz9S62NsgiRUOyAZkE2897FlWuYf/Dg7+t70eqn+JbvzejIvDt48nGcm3NSsioqFU6ydfXh5UssmPuM4BndbGA0nRStT6mXKYBnTo5/M3oL9g6fF9B30oOnTrT9VaT5Bm9xZ6jC3z6bFQTFPjzCBi5/+2bFKoz//7g/njQUejd8/nJtlUHeqj2Eeo79QE/j4L//qzncO6ycMTG80Vjv5tYM52MSZCzYtaNNOb/ra0smE+yRZ6B2uBiSLKQhwMsfMdz0AVOPZPtpkvCnpfIX0ywZtOnvEzvmo/tm7tw/qkWN20OLDMTx7W91LTkOeLP768Puv1odWNtFRehttMtfVxduQIDg9T1u4S52Ppbabs0ldfU2bNodtkN96bzJyPACUDZna32zThDoshz7p7NrBkQFJPae1gwdZ6wGydzjn8dRN6mmlkn9fj1wq18vG3er5AjekEC8d0xAebByTTZ62vCwUgSeb4LI6fHKKwj0fYxO/wAzIJrVIqdoR048P6ezIcApz6Al6VKtZ7ymjh5Ia++gYD1jwZ55wWxjdmft6LPX5BP+fNh1nU0fbtLrm+pzeO3zz5zfIJghQPaLVajjeJuDkVtFpm9RNKrN/cOfYvpiUSZjUG1uG653qtaHGP7sOy7g4+OCwmU4qmxa/yMCbvR9DsuDoyeJvUmg3Gn/UGDqHl6+b41KFmemNXSa1s+kNX9sEDh1YmbL+cqB+mVeeU+o1RnXVtlgNkaqdDY83PEFpZE6hLPj0TmgtVdaoOYzGPz3gp4VaoW8cFOpxCwfWXvNY5U2HQfK732g8+1t1mF/Hha9n8mh8+xdmHf7ubTwCF9T5XGfTTW9b/jUr6lPbu7afGJuy4iO1F1QHrXT6+/f+4Zsqf//xHd7YJR3EMNaVn3Rfc0GOqEW1WSISiUQikUgUp0LUJW3TUtQlsSlIYlOQxKYgiU1BEpuCJDYFSWwKUsOmVVGc3PXcui6Ke/eXy9MH+B/1+2a5PDsvHj5q3XhR+eDs/BJaFtxItd4MDLXSy7DGF7UrKpLCBspxbYviEq+RC6f/9Mhl09n5xdm5ZxqrDToD095u0NHN8pPHF8tV09c1jL6+XK5wSmsYd4l3kmn80yANbvvJ48vmlU8fgQs8A45LhczXIAdUq4dOm1ZqTuuOBVPdrNjFs19+tlme/upuO6DNmuZy9rkaY/XFOQbIZp4+ub/cevO1V6uhTTEWl+s8A45riysPN+Mab//ZnU1b5d724SPvaNDTv5xj5q8vlOGrf33s2XTkqQrv12iTXk2Y52roxnHkRKhgh7UtVjnEM+C4IPL1BjyD7Xb65DeDbIK28PEa8whsUtnXTg606ZPHsPe2F2dok06DbZRNg5MJxlRp3rxqZ0Bx/dtjtAkChKmuL0+H2HT6QM0YziXV4adoFsRtuqrbpFOabOJLkdm0Hn6qkVWN7iAYmoErm9Tx4rGp82xaoX/U4W8ewGPHpKd7NuvNFv9XiEt7NESdTe4DJtym+riUXTwD19mET1bOmdaTzpGbPEOyQ/XBt6w3eFisXZsOPqA8wn8hCh4g4klnerm6aP71KDdkFs7A/aTzZRMcdb613vJri7mF35vaycfvTYV+BdALCfs14r0p4mjC96b6uBAghMgzuNJ7k8gjsSlIYlOQxKYgiU1BEpuCJDYFSWwKktgUpGfzp3eRSCQSiUSil08eOK+ijLGg0Z1jxLw8iEPKuEcON4/GmidTP4VCRQ6NXh3KU9gIrJBsUTOAGXNcOUbN1/zjmRu6Il0AaTgaAwmofsqcDfLpDRwjh9EB9kG7kI46mCQDhdDzINkIqteQo54kaanjyo6OeX5p2TEeYJI9NsF3Cqg+stkrKptGP/LdTEMn6fQdgGpMgJCCeV++epV/OTSbsnYKj8bvq2yCjAJzKC7lJLB3dM0/3t7PPz7smYTJB+g5u33g2XS0LgltuvzNQ055SL2s/YUAYRrd+e1Qm2wE1akoO2AW8K0BFFeK2Ddf6xpvr88mpE4TbZP60ZMcmm5FmxAcx99ibErng88mG0HDJghG9Upx0RcslHyta7xem3jTsU0ANTq74k3HNpUJmxOTTWrjDLfJRNCwqSObusbrtSnVA2JnnJ6ObuZ0KwVozIk5m5hGH2axa3n2us+mrvHCsgkfoXfgSTdPUjfeX2p8u8R4GH+Pe9INzyYbQcOmziddRDbBq4VJDDio3FsIufYkse9N8GUC5XN9b2pNbPh7k0gkEolEIpFItAs9778+v+ASm4IkNgVJbAqS2BQksSlIYlOQxKYgNWzaFkUXdbhBTg6AjhWSTUtmUlz3MiRSaQOKYVYMZTxAbdaXiSoDJQOfAiDLw0fMrFSibth0+uDCQTTZmW8AJESW6pf36yxvU8j5XdbasKmDCShDGQ+Qi+s8O1eOGFoZuV5irJiAslG7Np0XO1yf/DsHSUQcsU1fuLNpfelsE8PTrQanoRPFO33wH+qioZWR6yXGyrC+SxNry6azc39i67W0sJlmeZv65NPfVTadbRNDZ2rKeIicrC/awbQycb1b3JoVmHLN0TdtUhvSv2g8ZZonJqRmeVs2PT5hfLXWJor1Zcp4kJysL9rEtDJxvQAxP7jUrG+Fe23atO5aMJoywaw4qmF52zZd8lJU20Rm02YZwQk72qJNzPparteS4yZqx5Ou40FHU97iaGfnF0smNp1nOMHF9TbLyLMpCqd2wJ1gE1tS4XrX5nsItnaw5pOu6CL97Xrax5XnhUDFhKB5IweinnSGMr66HKwv2WRpZYR8L5eW9a0uSd2mbQWW9tiEvp/8/oFOo473pot6m7uxrG8HiNyrFuu7tO9N/O0t/N5kWF+O2mGTyCOxKUhiU5DEpiCJTUESm4IkNgVJbAqS2BSkZ/mXZZFIJBKJRKKXSBpI8XxaEowCQEdaUL23vI2gpBOqdzapsMAp8zwxzIqL141pq5kVKkmJ02kwK+nE09mEy0m7PQQ2boLUUD69gaPk7VmnasDFV/uaCs7IVC7HHUFAuXjdmLaG9VURZoT/NQiotJj4O/RFQtwu+jV946v9xjUtqLU54Z8mzALbazE8XRaBTnlZ3wqtrEKs8XQ26sTRuGOt9Xqk5d6HP+nedGj43LLAfC2GznTyujFt0Q4TIRLcNdbXu+mS7i8iYEsyKPOqCU+/TcCXGxaYr8Wwvk5eN6Yt2qQjhGruizrr22VTV51tsgRqUGqwscMmoDYtC7yLbHLxujFt0SZLKyu3wrMJS5N32YSVnIFe7bSJkNHWgFFnUwxO7WN9K7Sy+rzxPQQ+m1QKdjzpqmuSl1zZ1GNTygWuNQuc7uBJ5+J1Y9rSlsAIYRZwSDRYX182pZ3faoGdwd9CoWBw9TtQWjZRFfGJZYFhwFjW18XrxrTV700QIU887L1JJBKJRCKRSCTaiZ73X59fcIlNQRKbgiQ2BUlsCpLYFCSxKUhiU5BaNm074B7Dn9y7z6yvqeRW1fqCq79tKrWAmRh5wev6EvFnZmWqUDZtUnd4bdpyT5b1tXUBaxFR54SpcS3gr0ddX7Dr5K6Z1brw2bQuvDYZbpfBNNV1hYq1Aem6vrZuraXoXvC6vsq8/1Se0azsTNrFtB/+rmfT2ZXhypy+EqO60qUa3QKDL3hdXzVDFa6dlccmZeCq1yZeUi7J6bVpbbZehfB9sev63ldnCazqvR6btnA299lEbYn19WcTpzkimrvKpqdf1xc968sm+B6Houg4wzdm/sT6Os4m3TmtPEHFOzqbnnpd3z/g8/nkD2ZW3ifdsjeb8MzhR47zSUed071cC3g3T7qnX9d3iceCnVWETbgop8z6+t6btFe2FvDma1HXN/S9SeSU2BQksSlIYlOQxKYgiU1BEpuCJDYFSWwK0rP8y7JIJBKJRCLRS6S86IJWciI7GThMbf25ulKCfAnno9KQu2B9kZYZXHdTR23ENHJKfTrq02mq2dVbFzuDXC8gQ6iM+3WyvgkW+aPf5sluWN8kSQa3NVHbK0QjZ2Xiq3bIVLOzt46lJq4XsSGY8IffKjtYX10UOfvgcL4j1jdJPKWWA6SjdrrureubeGI1W8UtJr0IsJ90brqcknzv2uu1TRdV19eRE6HSUTenO2cvnHV9k8QDzWaFyr1uOpOQaiCuO21SH47Gc5W49bMpqq7v8GTSUTcDNXVEnXV9O5nZXtYXWn/7q/3uI5yiUGbu7TCb4ijA1rh0EMNqJu5syrp2VoBN05tjeOyUSbdNkxz/ijxPdsL6eg6YcJvq43J2kRXOsyn3rSduuu4XAuoJXejIJjhFKG/r2RT1pDNPz6vLRm2jrFbudT3pOrI+7f2OFLilrIzT8d40T+o2xbK+w4+mStRaTCPn/DLmeG/SVLNIJBKJRCKRSPSU9Lz/+vyCS2wKktgUJLEpSGJTkMSmIIlNQRKbgtSwyVS59WuF9Aexvj317KiqqwWXoB5uBO7lqs17haaFqyhktRbdvfu1ur5w0c2snJ1fQHHQrgGJj7V1fTurfiIdXLUJmgy1aTibyc0b45q6vpqFuqjX9V1tbI3Cuk2rvlQieI/6pT466a0tVP2lgqeQfKdPPtsMt2m3OB3X9bVE4IohxBoluHaWP97e+6wPYbfkWQNgdNq0WSFhzCTr6ZP/UhEMtcnN64bKkYuVEqP8ebOuryebtkXvpjMIPgPpnSjgdgMblLJghXSoMmuoTW5eN7i1g4jmrKHitHga1ev6bj01x7HCcPfG05uOI+4uAq4+5QzCap3KJrVoMcTuTjnhWjaZzyt1fX3FtOFs2nbbtKYCtMT69h2r+DUYX3z+CGZH2aTafhZj0y454bPK2WQ/t3V9l3ZZmk+6Td+mw2w6+W9+bPQcq2ATPFBwv5BNla+KuKKctXlD5TocqK4vPemYYK7W9d1uvDXH1THZl9ZbeMHQrG8PpUxw8EM1cPHwf57gt1swcz5Ertq8oXKlYeW9ST/jqnV9YTz32STySGwKktgUJLEpSGJTkMSmIIlNQRKbgiQ2BelZ/mVZJBKJRCKR6OUREhyzbs4oI/ojrdftdXVVmrJwtqpuDLPS5nWvNDNHMVZkhZC6obgYuzT16Rj8cWg07p4GE0JU19fU7W2bCZzfHKublpWqujEE1HA2E3Gw9rijMaxdTv5gXOSbqXa4OPCmTNoDBQI+lZYLqutbqYrb7GbOniIiapyP4elicDrkShvjZrNXVDREK3NcdIthffMvfdnUWdcXg0Xfua6vrYrb0OKrtyDLNYNtqurG0JluXvcKNrXGtZuO4yJCWdOZozu/9dmUz/qWTG3cecJ1fW3d3qZNB1PEVxcHcJrYqroxrK+b1w1sCxF02MRxEaGsWd907jubuthMEyxUiaa6vpWquM1+5kjN0qazaxnH+g6v6wvH/0etqbWyCe/UrG9Weo/w3j2HWQGMNdb1raDozdsQLs7JRhtE5PcQRAGabY7U2lSJK9Wsb+p/7GdF39MEswkTBJ8ec88XYaj5qPTFbDo6tlV1Y550Dl73KvYyTeu2ieJiQtnW9fVlU79N8AbChXDnia3b67ptgi9ZsB70+hTL+qZFVNu2w873pmpdX/97k0gkEolEIpFIFK/n/dfnF1xiU5DEpiCJTUESm4IkNgVJbAqS2BSkhk2rzsq5W6riWlRLiBoyz2pty+Uy/bGTur5MGQ+Tt64vVx7eFvX6dISBeerTnT64ODv3ElBI7moClrhdGOayFRGMflmp+7ubaofMJg2St64vVx5G/Kha15coRA8SvSrULHzpZOr6gskrIJqgxReNbLLVcM8+f8Rk2m5qZ1rK+Ory1vXljmGfrHRdX67166/re3ausskfCaOYFRb67PNfuzfd0tQ9tnVOl3GVWKMy0VfXF6d1cndLMCXV9eVav0t/Ucjuo4NsYgIWbdpeeM4mqOpq6v7uqK5vV6HvHnnr+i4J7QYsdW3q+lKt32XX2dRFZ2qwF/vATPnV3TNvNkGp6l1mU8ym0+3rcdJyQ+VhOMn/9+Qu1fXlWr9+m7bdrK+2CQfEY8ZZB1h3vt7s9Gxiyni4Ta66vpWvXthuqDrrye/7immvALD3R7LlqrNrU9/X90IATxY+S3b2pCPKeJjF3rq+TIhTEXu8E550lzyQ72zadn/lCb832bOp672puGi8N8XW9d0WvSCyV766vrrysPk+FH5vqn+phbyFh0lsCpLYFCSxKUhiU5DEpiCJTUESm4IkNgXpWf5lWSQSiUQikeglUtZJ9jFDhEiepnd91Q6p0hv3Z0nbGGbFEsNXl4sTRtyTaWX+PA9iVkbjCQCFPpdohkDAAsSakwHuur5UNxDqUqZlhbSNIaAsMXx1uTjhvcMZQoGAR/HntWqHftY3d0KMevpcw1cTsCNDytYDKrmyocYS7xxb0jaGp8sGp6GTEx6N31cXmVbmzxt1fX2sL9jUV2LUELA0XV/BWir9StjhbuhMSwxfXU5OGO0gWpk/r1di9bK+atN1QOVcO5MIWER+E3+JURoQSvvO9i1pG8P6WmL46nJywmgT0cr0+aJe19fP+qoj9/96yh+XleqlSU82wZH4JexNTdpGZVMZwfomjrZok6WVm3V9O1hfiKbbJkvA0lnsK6ZtiFPGc+m+qLMpFqdujgs2VWjlrFHX18/64qbzP4jsCwGOgL17bOIn3Z1jfpQwaRv1pDPE8NXl5IQJf58zutyq65v4IdZunLb+3tR1Nuk3kLz6hSqxrC9/4coguSam35sYXW7W9U2E9RWJRCKRSCQSPTX9PzLqO2a6I7B3AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA5LTIzVDA3OjAzOjAyKzAwOjAwF4jeKAAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wOS0yM1QwNzowMzowMiswMDowMGbVZpQAAAAodEVYdGRhdGU6dGltZXN0YW1wADIwMjMtMDktMjNUMDc6MDM6MDIrMDA6MDAxwEdLAAAAAElFTkSuQmCC" alt=""/></p><p>我们可以通过DataFrame的isna().sum()函数来统计所有的NaN的个数。这样，我们就可以在看看有没有NaN的同时，也看看NaN出现的次数。如果NaN过多的话，那么说明这个数据集质量不好，就要找找数据源出了什么问题。</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">df_ads.isna().sum() # NaN出现的次数</span></div></pre></div><p>输出结果如下:</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">点赞数      0</span></div><div class="token-line"><span class="token plain">    转发数     37</span></div><div class="token-line"><span class="token plain">    热度指数     0</span></div><div class="token-line"><span class="token plain">    文章评级     0</span></div><div class="token-line"><span class="token plain">    浏览量      0</span></div><div class="token-line"><span class="token plain">    dtype: int64</span></div></pre></div><p>输出显示我们的数据集中“转发数”这个字段有37个NaN值。对于上千条数据的数据集，这还不算很多。那么该如何处理呢？也很简单。我们可以用dropna()这个API把出现了NaN的数据行删掉。</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">df_ads = df_ads.dropna() # 把出现了NaN的数据行删掉</span></div></pre></div><p>你可能会觉得，我们刚才通过箱线图找到了离群点（爆款文章），这些算是脏数据吗？这是个很好的问题，而且这个问题并没有固定的答案。</p><p>删去了离群点，模型针对普通的数据会拟合得比较漂亮。但是现实生活中，就是存在着这样的离群点，让模型不那么漂亮。如果把这里的离群点删掉，那模型就不能工作得那么好了。所以，这是一个平衡和取舍的过程。</p><p>我们可以训练出包含这些离群点的模型，以及不包含这些离群点的模型，并进行比较。在这里，我建议保留这些“离群点”。</p><p>现在，我们就完成了对这个数据的简单清洗。不同类型的数据有不同的清洗方法，我们这里就不一一介绍了。后续项目中，针对具体项目和数据集，我们还会再细讲的。我们继续讲下一个步骤，把数据转换成机器所更易于读取的格式，也就是特征工程。</p><ol start="4"><li><h3 id="特征工程"><a aria-hidden="true" tabindex="-1" href="/blog-other/零基础实战机器学习/02.准备篇/03#特征工程"><span class="icon icon-link"></span></a>特征工程</h3></li></ol><p>特征工程是一个专门的机器学习子领域，而且我认为它是数据处理过程中<strong>最有创造力的环节</strong>，特征工程做得好不好，非常影响机器学习模型的效率。</p><p>我举个例子来解释下什么是特征工程。你知道什么是BMI指数吗？它等于体重除以身高的平方，这就是一个特征工程。</p><p>$$BMI=\frac<!-- -->{<!-- -->Weight（kg）<!-- -->}<!-- -->{<!-- -->\left[ Height(m) \right]^<!-- -->{<!-- -->2<!-- -->}<!-- -->}<!-- -->$$</p><p>什么意思呢？就是说经过了这个过程，BMI这一个指数就替代了原来的两个特征——体重和身高，而且完全能客观地描绘我们的身材情况。</p><p>因此，经过了这个特征工程，我们可以把BIM指数作为新特征，输入用于评估健康情况的机器学习模型。</p><p>你可能会问这样做的好处是什么？以BMI特征工程为例，它降低了特征数据集的维度。维度就是数据集特征的个数。要知道，在数据集中，每多一个特征，模型拟合时的特征空间就更大，运算量也就更大。所以，<strong>摒弃掉冗余的特征、降低特征的维度，能使机器学习模型训练得更快。</strong></p><p>这只是特征工程的诸多的妙处之一，此外特征工程还能更好地表示业务逻辑，并提升机器学习模型的性能。</p><p>由于我们这个项目的问题相对简单，对特征工程的要求并不高，这里暂时不做特征工程。后面我会用一节课专门讲解各类特征工程的应用。下面，我们直接进入下一个子步骤，也就是构建机器学习的特征集和标签集。</p><ol start="5"><li><h3 id="构建特征集和标签集"><a aria-hidden="true" tabindex="-1" href="/blog-other/零基础实战机器学习/02.准备篇/03#构建特征集和标签集"><span class="icon icon-link"></span></a>构建特征集和标签集</h3></li></ol><p>我们说过，特征就是所收集的各个数据点，是要输入机器学习模型的变量。而标签是要预测、判断或者分类的内容。对于所有监督学习算法，我们都需要向模型中输入“特征集”和“标签集”这两组数据。因此，在开始机器学习的模型搭建之前，我们需要先构建一个特征数据集和一个标签数据集。</p><p>具体的构建过程也很简单，我们只要从原始数据集删除我们不需要的数据就行了。在这个项目中，特征是点赞数、转发数、热度指数和文章评级，所以只需要从原始数据集中删除“浏览量”就行了。</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">X = df_ads.drop([&#x27;浏览量&#x27;],axis=1) # 特征集，Drop掉标签相关字段</span></div></pre></div><p>而标签是我们想要预测的浏览量，因此，我们在标签数据集中只保留“浏览量”字段：</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">y = df_ads.浏览量 # 标签集</span></div></pre></div><p>下面我们再看看特征集和标签集里面都有什么数据。</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">X.head() # 显示前几行数据</span></div></pre></div><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">y.head() #显示前几行数据</span></div></pre></div><p>因为Notebook一个单元格只能有一个输出。所以我把显示两个数据的代码放在了不同的单元格中。它们的输出结果如下图所示：</p><p><img src="/blog-other/static/httpsstatic001geekbangorgresourceimagea807a8b2dddyy331e2f7586c55d7b18f6c07.f4f3cde0.jpg" alt=""/></p><p>可以看到，除了浏览量之外，所有其它字段仍然都在特征数据集中，而只有浏览量被保存在了标签数据集中，也就是说原始数据集就被拆分成了机器学习的特征集和标签集。</p><p>这里我想请你思考的是，无监督学习算法需要这个步骤吗？没错，答案是不需要。因为无监督算法根本就没有标签。</p><p>不过，从原数据集从列的维度纵向地拆分成了特征集和标签集后，还需要进一步从行的维度横向拆分。你可能想问，为啥还要拆分呀？因为我们在第一讲<a target="_blank" rel="noopener noreferrer" href="https://time.geekbang.org/column/article/413057">《打好基础：弄懂到底什么是机器学习》<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>里就讲过，机器学习并不是通过训练数据集找出一个模型就结束了，我们需要用验证数据集看看这个模型好不好，然后用测试数据集看看模型在新数据上能不能用。</p><p>那么具体该怎么拆分呢？这就是我们接下来要解决的问题了。</p><ol start="6"><li><h3 id="拆分训练集验证集和测试集"><a aria-hidden="true" tabindex="-1" href="/blog-other/零基础实战机器学习/02.准备篇/03#拆分训练集验证集和测试集"><span class="icon icon-link"></span></a>拆分训练集、验证集和测试集</h3></li></ol><p>在拆分之前，我先说明一点，对于学习型项目来说，为了简化流程，经常会省略验证的环节。我们今天的项目比较简单，所以我们也省略了验证，只拆分训练集和测试集，而此时的测试集就肩负着验证和测试双重功能了。</p><p>拆分的时候，留作测试的数据比例一般是20%或30%。不过如果你的数据量非常庞大，比如超过1百万的时候，那你也不一定非要留这么多。一般来说有上万条的测试数据就足够了。这里我会按照80/20的比例来拆分数据。具体的拆分，我们会用机器学习工具包scikit-learn里的数据集拆分工具train_test_split来完成：</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">#将数据集进行80%（训练集）和20%（验证集）的分割</span></div><div class="token-line"><span class="token plain">    from sklearn.model_selection import train_test_split #导入train_test_split工具</span></div><div class="token-line"><span class="token plain">    X_train, X_test, y_train, y_test = train_test_split(X, y, </span></div><div class="token-line"><span class="token plain">                                       test_size=0.2, random_state=0)</span></div></pre></div><p>这里请你注意一下，虽然是随机分割，但我们要指定一个random_state值，这样就保证程序每次运行都分割一样的训练集和测试集。训练集和测试集每次拆分都不一样的话，那比较模型调参前后的优劣就失去了固定的标准。</p><p>现在，训练集和测试集拆分也完成了，你会发现原始数据现在变成了四个数据集，分别是：</p><ul><li>特征训练集（X_train）</li><li>特征测试集（X_test）</li><li>标签训练集（y_train）</li><li>标签测试集（y_test）</li></ul><p>至此，我们全部的数据预处理工作就结束了。</p><h2 id="总结一下"><a aria-hidden="true" tabindex="-1" href="/blog-other/零基础实战机器学习/02.准备篇/03#总结一下"><span class="icon icon-link"></span></a>总结一下</h2><p>现在，我来给你总结一下。</p><p>这节课我们介绍了机器学习实战5步中的前两步：定义问题以及数据的收集和预处理。不明确定义要解决的问题，我们就没办法有的放矢地选择模型。</p><p>而数据的收集和预处理虽然看起来没有模型的选择和优化那么“吸引眼球”，但它其实才是机器学习项目成败的关键。这一步可以分为下图中的6个小步：</p><p><img src="/blog-other/static/httpsstatic001geekbangorgresourceimage90fd9065b2d14d1416197ab841025d59d7fd.f8a0afed.jpg" alt=""/></p><p>这6步中，尤其是数据可视化和特征工程，因为无定法可循，所以很考验经验，它既是我们对着已有数据找感觉的过程，又是下一步把数据“喂”给模型之前的必要准备。</p><p>除此之外，这里我还希望你注意两点：</p><p>第一点是，<strong>这些子步骤中的次序并不是固定的</strong>，比如数据可视化和特征工程，很多时候是先可视化，发现了一些特征工程的思路，然后做特征工程，然后再次可视化。而且有的特征工程比如特征缩放，还必须在拆分数据之后做；</p><p>第二点，这些子步骤<strong>在一个特定的机器学习项目中，可能不需要全部用到</strong>。比如说无监督学习项目，就不需要创建特征集和标签集这个步骤，一般也不需要用到验证集和测试集。</p><p>好的，那么这一讲就到这里，我把这节课使用的代码放在<a target="_blank" rel="noopener noreferrer" href="https://github.com/huangjia2019/geektime/tree/main/%E5%87%86%E5%A4%87%E7%AF%8703">这里<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>了。下一讲，我们要开始选择机器学习模型了，敬请期待！</p><h2 id="思考题"><a aria-hidden="true" tabindex="-1" href="/blog-other/零基础实战机器学习/02.准备篇/03#思考题"><span class="icon icon-link"></span></a>思考题</h2><p>这节课到这我们就讲完了，我来给你留两道练习题。</p><ol><li>今天我们显示了特征和标签的散点图，还显示了热度指数特征的箱线图。你能不能试着显示一下其它特征之间的散点图，或者箱线图呢？</li><li>在数据清洗部分，我们用dropna()这个API，把出现了NaN的数据行删掉了。如果你出于保留更多数据的考虑，应该为该字段补值，你会怎么做呢？你能想到哪些补值方法？</li></ol><p>提示一种方法：</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">df_ads[&#x27;转发数&#x27;].fillna(df_ads[&#x27;转发数&#x27;].mean(), inplace=True) # 用均值补值</span></div></pre></div><p>欢迎你在留言区里分享你做这两个题时的收获和遇到的问题，我在留言区等你。如果这节课帮到了你的话，也欢迎你把这节课分享给自己的朋友。</p><p><img src="/blog-other/static/httpsstatic001geekbangorgresourceimage1f471fe8181d62cdef912a6bd829f3582647.96a9be9b.jpg" alt=""/></p></div><div class="__dumi-default-layout-footer-meta"><a target="_blank" rel="noopener noreferrer" href="https://github.com/GGwujun/blog/edit/master/ssrc/零基础实战机器学习/02.准备篇/03.md">在 GitHub 上编辑此页<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><span data-updated-text="最后更新时间：">2023/9/23 21:58:31</span></div></div></div></div>
	<script>
  window.g_useSSR = true;
  window.g_initialProps = {};
	</script>

    <script>
      (function () {
        if (!location.port) {
          (function (i, s, o, g, r, a, m) {
            i["GoogleAnalyticsObject"] = r;
            (i[r] =
              i[r] ||
              function () {
                (i[r].q = i[r].q || []).push(arguments);
              }),
              (i[r].l = 1 * new Date());
            (a = s.createElement(o)), (m = s.getElementsByTagName(o)[0]);
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m);
          })(
            window,
            document,
            "script",
            "//www.google-analytics.com/analytics.js",
            "ga"
          );
          ga("create", "UA-149864185-1", "auto");
          ga("send", "pageview");
        }
      })();
    </script>
    <script src="/blog-other/umi.js"></script>
  </body>
</html>
